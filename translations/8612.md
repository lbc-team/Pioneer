
>- åŸæ–‡é“¾æ¥ï¼šhttps://open.substack.com/pub/jtriley/p/ethereum-virtual-machine-language
>- è¯‘è€…ï¼š[AIç¿»è¯‘å®˜](https://learnblockchain.cn/people/19584)ï¼Œæ ¡å¯¹ï¼š[ç¿»è¯‘å°ç»„](https://learnblockchain.cn/people/412)
>- æœ¬æ–‡æ°¸ä¹…é“¾æ¥ï¼š[learnblockchain.cn/articleâ€¦](https://learnblockchain.cn/article/8612)
    
ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰æ˜¯ä¸€å° 256 ä½ã€åŸºäºå †æ ˆã€å…¨å±€å¯è®¿é—®çš„å›¾çµæœºã€‚ç”±äºå…¶ä¸å…¶ä»–è™šæ‹Ÿå’Œç‰©ç†æœºå™¨æ¶æ„å­˜åœ¨æ˜æ˜¾å·®å¼‚ï¼Œé¢†åŸŸç‰¹å®šè¯­è¨€ï¼ˆDSLï¼‰å‡ ä¹æ˜¯å¿…ä¸å¯å°‘çš„ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶ EVM DSL è®¾è®¡çš„æœ€æ–°æŠ€æœ¯ã€‚æˆ‘ä»¬å°†æ¶µç›– Solidityã€Vyperã€Feã€Huffã€Yul å’Œ ETKï¼Œä½¿ç”¨æ’°å†™æ—¶çš„æœ€æ–°ç¼–è¯‘å™¨ç‰ˆæœ¬ã€‚

### ç‰ˆæœ¬

- Solidity: 0.8.19
- Vyper: 0.3.7
- Fe: 0.21.0
- Huff: 0.3.1
- ETK: 0.2.1
- Yul: 0.8.19

æœ¬æ–‡å‡å®šè¯»è€…å…·æœ‰å¯¹ EVMã€å †æ ˆæœºå™¨å’Œç¼–ç¨‹çš„åŸºæœ¬ç†è§£ã€‚

å¦‚å‰æ‰€è¿°ï¼ŒEVM æ˜¯ä¸€å° 256 ä½åŸºäºå †æ ˆçš„å›¾çµæœºã€‚ç„¶è€Œï¼Œåœ¨æ·±å…¥è®¨è®ºé’ˆå¯¹å…¶çš„ç¼–è¯‘å™¨ä¹‹å‰ï¼Œåº”ä»‹ç»ä¸€äº›åŠŸèƒ½ã€‚

ç”±äº EVM æ˜¯â€œå›¾çµå®Œå¤‡â€çš„ï¼Œå®ƒå—åˆ°â€œåœæœºé—®é¢˜â€çš„å›°æ‰°ã€‚ç®€è€Œè¨€ä¹‹ï¼Œè¿™æ„å‘³ç€åœ¨æ‰§è¡Œç¨‹åºä¹‹å‰æ— æ³•ç¡®å®šç¨‹åºå°†æ¥æ˜¯å¦ä¼šç»ˆæ­¢ã€‚åœ¨ EVM ä¸­è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯é€šè¿‡â€œgasâ€æ¥è®¡é‡è®¡ç®—å•å…ƒï¼Œé€šå¸¸ä¸æ‰§è¡ŒæŒ‡ä»¤æ‰€éœ€çš„ç‰©ç†èµ„æºæˆæ­£æ¯”ã€‚æ¯ä¸ªäº¤æ˜“çš„ gas æ•°é‡æ˜¯æœ‰é™çš„ï¼Œäº¤æ˜“å‘èµ·è€…å¿…é¡»æ”¯ä»˜ä¸äº¤æ˜“æœŸé—´æ¶ˆè€—çš„ gas æˆæ¯”ä¾‹çš„ä»¥å¤ªå¸ã€‚è¿™ä¸ªå†³å®šçš„è®¸å¤šå½±å“ä¹‹ä¸€æ˜¯ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªåŠŸèƒ½ä¸Šç›¸åŒçš„æ™ºèƒ½åˆçº¦ï¼Œä½†å…¶ä¸­ä¸€ä¸ªåœ¨æ‰§è¡Œç›¸åŒä»»åŠ¡æ—¶çš„ gas æ¶ˆè€—è¾ƒå°‘ï¼Œé‚£ä¹ˆæœ‰ç»æµæ¿€åŠ±ä½¿ç”¨æ›´æœ‰æ•ˆç‡çš„åˆçº¦ã€‚è¿™å¯¼è‡´åè®®ç«äº‰æè‡´çš„ gas æ•ˆç‡ï¼Œå·¥ç¨‹å¸ˆå›´ç»•æœ€å°åŒ–ç‰¹å®šä»»åŠ¡çš„ gas æ¶ˆè€—å½¢æˆä¸ªäººå“ç‰Œï¼ˆåŒ…æ‹¬æˆ‘è‡ªå·±ï¼‰ã€‚

æ­¤å¤–ï¼Œå½“è°ƒç”¨åˆçº¦æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­ï¼Œåˆçº¦æœ‰ä¸€ä¸ªå †æ ˆç”¨äºæ“ä½œï¼Œä¸€ä¸ªçº¿æ€§å†…å­˜å®ä¾‹ç”¨äºè¯»å†™ï¼Œä¸€ä¸ªæœ¬åœ°æŒä¹…å­˜å‚¨ç”¨äºè¯»å†™ï¼Œä»¥åŠé™„åŠ åˆ°è°ƒç”¨çš„æ•°æ®â€œcalldataâ€ï¼Œå¯ä»¥è¯»å–ä½†ä¸èƒ½å†™å…¥ã€‚

å…³äºå†…å­˜çš„ä¸€ä¸ªé‡è¦è¯´æ˜æ˜¯ï¼Œå°½ç®¡å…¶å¤§å°ä¸æ˜¯ç¡®å®šæ€§â€œä¸Šé™â€ï¼Œä½†ä»ç„¶æ˜¯æœ‰é™çš„ã€‚æ‰©å±•å†…å­˜çš„ gas æˆæœ¬æ˜¯åŠ¨æ€çš„ï¼›ä¸€æ—¦è¾¾åˆ°é˜ˆå€¼ï¼Œæ‰©å±•å†…å­˜çš„æˆæœ¬æ˜¯äºŒæ¬¡çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œgas æˆæœ¬ä¸é¢å¤–å†…å­˜åˆ†é…çš„å¹³æ–¹æˆæ­£æ¯”ã€‚

åˆçº¦è¿˜å¯ä»¥ä½¿ç”¨å‡ ç§ä¸åŒçš„æŒ‡ä»¤è°ƒç”¨å…¶ä»–åˆçº¦ã€‚â€œcallâ€æŒ‡ä»¤å°†æ•°æ®å‘é€åˆ°ç›®æ ‡åˆçº¦ï¼Œå¯é€‰æ‹©å‘é€ä»¥å¤ªå¸ï¼Œç„¶åç›®æ ‡åˆçº¦åˆ›å»ºè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œè¯¥ä¸Šä¸‹æ–‡æŒç»­åˆ°ç›®æ ‡åˆçº¦çš„æ‰§è¡Œåœæ­¢ã€‚â€œstaticcallâ€æŒ‡ä»¤ä¸â€œcallâ€ç›¸åŒï¼Œä½†å¢åŠ äº†ä¸€ä¸ªæ£€æŸ¥ï¼Œç¡®ä¿å…¨å±€çŠ¶æ€åœ¨é™æ€è°ƒç”¨å®Œæˆä¹‹å‰ä¸ä¼šæ›´æ–°ã€‚â€œdelegatecallâ€æŒ‡ä»¤çš„è¡Œä¸ºç±»ä¼¼äºâ€œcallâ€ï¼Œä½†ä¿ç•™äº†å…ˆå‰ä¸Šä¸‹æ–‡çš„ä¸€äº›ç¯å¢ƒä¿¡æ¯ã€‚é€šå¸¸ç”¨äºå¤–éƒ¨åº“å’Œä»£ç†åˆçº¦ã€‚

## ä¸ºä»€ä¹ˆè¯­è¨€è®¾è®¡å¾ˆé‡è¦

æ™ºèƒ½åˆçº¦ DSL å¯¹äºä¸éå…¸å‹æ¶æ„äº¤äº’æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œè™½ç„¶å­˜åœ¨ç¼–è¯‘å™¨å·¥å…·é“¾ï¼ˆå¦‚ LLVMï¼‰ï¼Œä½†ä¾èµ–å®ƒä»¬è¿›è¡Œæ™ºèƒ½åˆçº¦ç¼–ç¨‹ï¼Œå…¶ä¸­ç¨‹åºæ­£ç¡®æ€§å’Œè®¡ç®—æ•ˆç‡è‡³å…³é‡è¦ï¼Œä¸æ˜¯æœ€ç†æƒ³çš„é€‰æ‹©ã€‚

ç¨‹åºæ­£ç¡®æ€§è‡³å…³é‡è¦ï¼Œå› ä¸ºæ™ºèƒ½åˆçº¦é»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼Œé‰´äºåŒºå—é“¾è™šæ‹Ÿç¯å¢ƒï¼ˆVMï¼‰çš„ç‰¹æ€§ï¼Œæ™ºèƒ½åˆçº¦æ˜¯é‡‘èåº”ç”¨çš„çƒ­é—¨é€‰æ‹©ã€‚è™½ç„¶åœ¨ EVM å†…å­˜åœ¨å‡çº§æ€§è§£å†³æ–¹æ¡ˆï¼Œä½†è¿™åªæ˜¯ä¸€ä¸ªæƒå®œä¹‹è®¡ï¼Œæœ€åæƒ…å†µä¸‹å¯èƒ½å­˜åœ¨ä»»æ„ä»£ç æ‰§è¡Œæ¼æ´ã€‚

å¦‚ä¸Šæ‰€è¿°ï¼Œè®¡ç®—æ•ˆç‡ä¹Ÿè‡³å…³é‡è¦ï¼Œå› ä¸ºæœ€å°åŒ–è®¡ç®—å…·æœ‰ç»æµä¼˜åŠ¿ï¼Œä½†ä¸èƒ½ä»¥ç‰ºç‰²å®‰å…¨æ€§ä¸ºä»£ä»·ã€‚

ç®€è€Œè¨€ä¹‹ï¼ŒEVM DSL å¿…é¡»åœ¨ç¨‹åºæ­£ç¡®æ€§å’Œ gas æ•ˆç‡ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œæ¯ç§éƒ½åšå‡ºä¸åŒçš„æƒè¡¡ï¼Œä»¥å®ç°å…¶ä¸­ä¸€ç§è€Œä¸ç‰ºç‰²å¤ªå¤šçµæ´»æ€§ã€‚

## è¯­è¨€æ¦‚è¿°

å¯¹äºæ¯ç§è¯­è¨€ï¼Œæˆ‘ä»¬å°†æè¿°æ˜¾è‘—ç‰¹æ€§å’Œè®¾è®¡é€‰æ‹©ï¼Œå¹¶åŒ…æ‹¬ä¸€ä¸ªç®€å•çš„æ™ºèƒ½åˆçº¦ï¼Œç”¨äºè·Ÿè¸ªå’Œå¢åŠ å¯åœ¨å¤–éƒ¨è¯»å–çš„â€œè®¡æ•°â€å€¼ã€‚åœ¨é€‚ç”¨çš„æƒ…å†µä¸‹ï¼Œè¯­è¨€æµè¡Œåº¦æ˜¯æ ¹æ® [Defi Llama](https://defillama.com/languages) çš„æ€»é”å®šä»·å€¼ï¼ˆTVLï¼‰ç»Ÿè®¡ç¡®å®šçš„ã€‚

### Solidity

Solidity æ˜¯ä¸€ç§é«˜çº§è¯­è¨€ï¼Œå…¶è¯­æ³•ç±»ä¼¼äº Cã€Java å’Œ Javascriptã€‚å®ƒæ˜¯ TVL æœ€é«˜çš„è¯­è¨€ï¼Œæ¯”ä¸‹ä¸€ä¸ª EVM DSL é¢†å…ˆäº†åå€ã€‚ä¸ºäº†ä»£ç é‡ç”¨ï¼Œå®ƒä½¿ç”¨é¢å‘å¯¹è±¡çš„æ¨¡å¼ï¼Œå…¶ä¸­æ™ºèƒ½åˆçº¦è¢«è§†ä¸ºåˆ©ç”¨å¤šé‡ç»§æ‰¿çš„ç±»å¯¹è±¡ã€‚ç¼–è¯‘å™¨æ˜¯ç”¨ C++ç¼–å†™çš„ï¼Œè®¡åˆ’åœ¨æœªæ¥ç‰ˆæœ¬ä¸­è¿ç§»åˆ° Rustã€‚

åˆçº¦å˜é‡å­—æ®µå­˜å‚¨åœ¨æŒä¹…å­˜å‚¨ä¸­ï¼Œé™¤éå®ƒä»¬çš„å€¼åœ¨ç¼–è¯‘æ—¶ï¼ˆå¸¸é‡ï¼‰æˆ–éƒ¨ç½²æ—¶ï¼ˆä¸å¯å˜ï¼‰å·²çŸ¥ã€‚æ–¹æ³•åœ¨åˆçº¦èŒƒå›´å†…å®šä¹‰ï¼Œå¯ä»¥å£°æ˜ä¸º pureã€viewã€payableï¼Œæˆ–é»˜è®¤ä¸ºéæ”¯ä»˜ä½†ä¿®æ”¹çŠ¶æ€ã€‚çº¯æ–¹æ³•ä¸ä»æ‰§è¡Œç¯å¢ƒä¸­è¯»å–ï¼Œä¹Ÿä¸è¯»å–æˆ–å†™å…¥æŒä¹…å­˜å‚¨ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œç»™å®šç›¸åŒçš„è¾“å…¥ï¼Œçº¯æ–¹æ³•å°†å§‹ç»ˆè¿”å›ç›¸åŒçš„è¾“å‡ºï¼Œå¹¶ä¸”æ°¸è¿œä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ã€‚è§†å›¾æ–¹æ³•å¯ä»¥ä»æŒä¹…å­˜å‚¨æˆ–æ‰§è¡Œç¯å¢ƒä¸­è¯»å–ï¼Œä½†ä¸èƒ½å†™å…¥æŒä¹…å­˜å‚¨ï¼Œä¹Ÿä¸èƒ½äº§ç”Ÿé™„åŠ äº‹åŠ¡æ—¥å¿—ç­‰å‰¯ä½œç”¨ã€‚å¯æ”¯ä»˜æ–¹æ³•å¯ä»¥è¯»å–å’Œå†™å…¥æŒä¹…å­˜å‚¨ï¼Œä»æ‰§è¡Œç¯å¢ƒä¸­è¯»å–ï¼Œäº§ç”Ÿå‰¯ä½œç”¨ï¼Œå¹¶å¯ä»¥æ¥æ”¶å¯é€‰é™„åŠ åˆ°è°ƒç”¨çš„ä»¥å¤ªå¸ã€‚éæ”¯ä»˜æ–¹æ³•ä¸å¯æ”¯ä»˜æ–¹æ³•ç›¸åŒï¼Œä½†è¿è¡Œæ—¶æ£€æŸ¥ä»¥ç¡®ä¿å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­æ²¡æœ‰é™„åŠ ä»¥å¤ªå¸ã€‚

> æ³¨æ„ï¼šå°†ä»¥å¤ªå¸é™„åŠ åˆ°äº¤æ˜“ä¸æ”¯ä»˜ gas è´¹ç”¨æ˜¯åˆ†å¼€çš„ï¼Œé™„åŠ çš„ä»¥å¤ªå¸ç”±åˆçº¦æ¥æ”¶ï¼Œå¯ä»¥é€‰æ‹©æ¥å—æˆ–æ‹’ç»é€šè¿‡è¿˜åŸä¸Šä¸‹æ–‡ã€‚

æ–¹æ³•è¿˜å¯ä»¥åœ¨å£°æ˜ä¸ºåˆçº¦èŒƒå›´å†…æ—¶æŒ‡å®šå››ç§å¯è§æ€§ä¿®é¥°ç¬¦ä¹‹ä¸€ï¼›å®ƒä»¬å¯ä»¥æ˜¯ privateã€internalã€public æˆ– externalã€‚ç§æœ‰æ–¹æ³•é€šè¿‡å½“å‰åˆçº¦å†…éƒ¨çš„â€œè·³è½¬â€æŒ‡ä»¤è¿›è¡Œè®¿é—®ã€‚ä»»ä½•ç»§æ‰¿çš„åˆçº¦éƒ½ä¸èƒ½ç›´æ¥è®¿é—®ç§æœ‰æ–¹æ³•ã€‚å†…éƒ¨æ–¹æ³•ä¹Ÿå¯ä»¥é€šè¿‡è·³è½¬æŒ‡ä»¤åœ¨å†…éƒ¨è®¿é—®ï¼Œä½†ç»§æ‰¿çš„åˆçº¦å¯ä»¥ç›´æ¥ä½¿ç”¨å†…éƒ¨æ–¹æ³•ã€‚å…¬å…±æ–¹æ³•å¯ä»¥é€šè¿‡â€œcallâ€æŒ‡ä»¤ç”±å¤–éƒ¨åˆçº¦è®¿é—®ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå½“ç›´æ¥è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå¯ä»¥é€šè¿‡è·³è½¬è®¿é—®å†…éƒ¨ã€‚å…¬å…±æ–¹æ³•ä¹Ÿå¯ä»¥é€šè¿‡åœ¨æ–¹æ³•è°ƒç”¨å‰åŠ ä¸Šâ€œthis.â€æ¥åœ¨æ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ä»åŒä¸€åˆçº¦è®¿é—®â€œcallâ€è°ƒç”¨çš„æ–¹æ³•ã€‚å¤–éƒ¨æ–¹æ³•åªèƒ½é€šè¿‡â€œcallâ€æŒ‡ä»¤è®¿é—®ï¼Œæ— è®ºæ˜¯ä»ä¸åŒåˆçº¦è¿˜æ˜¯åŒä¸€åˆçº¦å†…éƒ¨ï¼Œéƒ½éœ€è¦åœ¨è¦è°ƒç”¨çš„æ–¹æ³•å‰åŠ ä¸Šâ€œthis.â€ã€‚

> æ³¨æ„ï¼šâ€œè·³è½¬â€æŒ‡ä»¤æ“ä½œç¨‹åºè®¡æ•°å™¨ï¼Œâ€œcallâ€æŒ‡ä»¤ä¸ºç›®æ ‡åˆçº¦çš„æ‰§è¡ŒæŒç»­åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨è·³è½¬è€Œä¸æ˜¯è°ƒç”¨æ›´åŠ èŠ‚çœ gasã€‚

Solidity è¿˜æä¾›äº†å¯ä»¥ä»¥ä¸‰ç§æ–¹å¼å®šä¹‰çš„åº“ã€‚é¦–å…ˆæ˜¯å¤–éƒ¨åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªæ— çŠ¶æ€åˆçº¦ï¼Œå•ç‹¬éƒ¨ç½²åˆ°é“¾ä¸Šï¼ŒåŠ¨æ€é“¾æ¥åˆ°è°ƒç”¨åˆçº¦ï¼Œå¹¶é€šè¿‡â€œdelegatecallâ€æŒ‡ä»¤è®¿é—®ã€‚è¿™æ˜¯æœ€ä¸å¸¸è§çš„æ–¹æ³•ï¼Œå› ä¸ºå¤–éƒ¨åº“å‘¨å›´çš„å·¥å…·ä¸è¶³ï¼Œç”±äºå¿…é¡»ä»æŒä¹…å­˜å‚¨åŠ è½½é¢å¤–ä»£ç ï¼Œâ€œdelegatecallâ€æ˜¯æ˜‚è´µçš„ï¼Œå¹¶ä¸”éœ€è¦å¤šä¸ªäº‹åŠ¡è¿›è¡Œéƒ¨ç½²ã€‚å†…éƒ¨åº“çš„å®šä¹‰æ–¹å¼ä¸å¤–éƒ¨åº“ç›¸åŒï¼Œåªæ˜¯æ¯ä¸ªæ–¹æ³•å¿…é¡»å®šä¹‰ä¸ºå†…éƒ¨æ–¹æ³•ã€‚åœ¨ç¼–è¯‘æ—¶ï¼Œå†…éƒ¨åº“åµŒå…¥åˆ°æœ€ç»ˆåˆçº¦ä¸­ï¼Œå¹¶ä¸”åœ¨æ­»ä»£ç åˆ†æé˜¶æ®µåˆ é™¤äº†åº“ä¸­æœªä½¿ç”¨çš„æ–¹æ³•ã€‚ç¬¬ä¸‰ç§æ–¹å¼ç±»ä¼¼äºå†…éƒ¨åº“ï¼Œä½†ä¸æ˜¯åœ¨åº“å—ä¸­å®šä¹‰æ•°æ®ç»“æ„å’ŒåŠŸèƒ½ï¼Œè€Œæ˜¯åœ¨æ–‡ä»¶çº§åˆ«å®šä¹‰ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥å¯¼å…¥å’Œåœ¨æœ€ç»ˆåˆçº¦ä¸­ä½¿ç”¨ã€‚ç¬¬ä¸‰ç§æ–¹æ³•æä¾›æ›´å¥½çš„äººæœºå·¥ç¨‹å­¦ï¼Œå…·æœ‰è‡ªå®šä¹‰æ•°æ®ç»“æ„ï¼Œå°†å‡½æ•°åº”ç”¨äºå…¨å±€èŒƒå›´å†…çš„ç»“æ„ï¼Œå¹¶ä¸”åœ¨ä¸€å®šç¨‹åº¦ä¸Šï¼Œå°†åˆ«åæ“ä½œç¬¦ç”¨äºæŸäº›å‡½æ•°ã€‚ç¼–è¯‘å™¨æä¾›äº†ä¸¤ç§ä¼˜åŒ–æµæ°´çº¿ã€‚é¦–å…ˆæ˜¯æŒ‡ä»¤çº§ä¼˜åŒ–å™¨ï¼Œå®ƒå¯¹æœ€ç»ˆçš„å­—èŠ‚ç æ‰§è¡Œä¼˜åŒ–ä¼ é€’ã€‚ç¬¬äºŒç§æ›´è¿‘æœŸçš„æ·»åŠ ä½¿ç”¨ Yul è¯­è¨€ï¼ˆç¨åè¯¦ç»†ä»‹ç»ï¼‰ä½œä¸ºç¼–è¯‘è¿‡ç¨‹ä¸­çš„ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰ï¼Œç„¶åå¯¹ç”Ÿæˆçš„ Yul ä»£ç æ‰§è¡Œä¼˜åŒ–ä¼ é€’ã€‚

ä¸ºäº†ä¸åˆçº¦ä¸­çš„å…¬å…±å’Œå¤–éƒ¨æ–¹æ³•è¿›è¡Œäº¤äº’ï¼ŒSolidity ä¸ºä¸å…¶åˆçº¦è¿›è¡Œäº¤äº’æŒ‡å®šäº†ä¸€ä¸ªåº”ç”¨äºŒè¿›åˆ¶æ¥å£ï¼ˆABIï¼‰æ ‡å‡†ã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼ŒSolidity ABI è¢«è§†ä¸º EVM DSL çš„äº‹å®æ ‡å‡†ã€‚ä»¥ Solidity çš„ ABI è§„èŒƒå’Œæ ·å¼æŒ‡å—ä¸ºä¾æ®ï¼Œè§„èŒƒäº†æŒ‡å®šå¤–éƒ¨æ¥å£çš„ä»¥å¤ªåŠè¯·æ±‚è¯„è®ºï¼ˆERCï¼‰æ ‡å‡†ã€‚å…¶ä»–è¯­è¨€å¾€å¾€éµå¾ª Solidity çš„ ABI è§„èŒƒï¼Œå¾ˆå°‘æœ‰ç»†å¾®çš„åå·®ã€‚

Solidity è¿˜æä¾›äº†å†…è”çš„ Yul å—ï¼Œå…è®¸å¯¹ EVM æŒ‡ä»¤é›†è¿›è¡Œä½çº§è®¿é—®ã€‚Yul å—åŒ…å« Yul éƒ¨åˆ†è¯¦ç»†ä»‹ç»çš„ Yul åŠŸèƒ½çš„å­é›†ã€‚è¿™é€šå¸¸ç”¨äº gas ä¼˜åŒ–ï¼Œåˆ©ç”¨é«˜çº§è¯­æ³•ä¸æ”¯æŒçš„åŠŸèƒ½ï¼Œå¹¶è‡ªå®šä¹‰å­˜å‚¨ã€å†…å­˜å’Œ calldata çš„å¸ƒå±€ã€‚

ç”±äº Solidity çš„æµè¡Œï¼Œå¼€å‘è€…å·¥å…·éå¸¸æˆç†Ÿä¸”è®¾è®¡è‰¯å¥½ã€‚Foundry æ˜¯ä¸€æ¬¾åœ¨è¿™æ–¹é¢ç‰¹åˆ«çªå‡ºçš„å·¥å…·ã€‚

åœ¨ Solidity ä¸­ï¼Œä¸€ä¸ªç®€å•çš„åˆçº¦å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š

```
// SPDX-License-Identifier: MIT
pragma solidity 0.8.19;

contract CountTracker {
&nbsp; &nbsp; uint256 public count;

&nbsp; &nbsp; function increment() external {
&nbsp; &nbsp; &nbsp; &nbsp; count += 1;
&nbsp; &nbsp; }
}
```

### Vyper

Vyper æ˜¯ä¸€ç§å…·æœ‰ç±»ä¼¼ Python è¯­æ³•çš„é«˜çº§è¯­è¨€ã€‚å®ƒå‡ ä¹æ˜¯ Python çš„å­é›†ï¼Œåªæœ‰å°‘æ•°å‡ ä¸ªç»†å¾®çš„ä¾‹å¤–ã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼ŒVyper æ˜¯ç¬¬äºŒå—æ¬¢è¿çš„ EVM DSLã€‚Vyper ä¼˜åŒ–äº†å®‰å…¨æ€§ã€å¯è¯»æ€§ã€å¯å®¡è®¡æ€§å’Œ gas æ•ˆç‡ã€‚å®ƒæ”¾å¼ƒäº†é¢å‘å¯¹è±¡çš„æ¨¡å¼ã€å†…è”æ±‡ç¼–ï¼Œå¹¶ä¸”åœ¨æ’°å†™æœ¬æ–‡æ—¶ä¸æ”¯æŒä»£ç é‡ç”¨ã€‚ç¼–è¯‘å™¨æ˜¯ç”¨ Python ç¼–å†™çš„ã€‚

å­˜å‚¨åœ¨æŒä¹…å­˜å‚¨ä¸­çš„å˜é‡åœ¨æ–‡ä»¶çº§åˆ«å£°æ˜ã€‚å¦‚æœå®ƒä»¬çš„å€¼åœ¨ç¼–è¯‘æ—¶å·²çŸ¥ï¼Œå¯ä»¥å°†å®ƒä»¬å£°æ˜ä¸ºâ€œconstantâ€ï¼Œå¦‚æœå®ƒä»¬çš„å€¼åœ¨éƒ¨ç½²æ—¶å·²çŸ¥ï¼Œå¯ä»¥å°†å®ƒä»¬å£°æ˜ä¸ºâ€œimmutableâ€ï¼Œå¦‚æœå®ƒä»¬æ ‡è®°ä¸º publicï¼Œåˆ™æœ€ç»ˆåˆçº¦å°†ä¸ºè¯¥å˜é‡å…¬å¼€ä¸€ä¸ªåªè¯»å‡½æ•°ã€‚é€šè¿‡å®ƒä»¬çš„åç§°åœ¨å†…éƒ¨è®¿é—®å¸¸é‡å’Œä¸å¯å˜å€¼ï¼Œä½†æ˜¯æŒä¹…å­˜å‚¨ä¸­çš„å¯å˜å˜é‡å¯ä»¥é€šè¿‡åœ¨å˜é‡åå‰åŠ ä¸Šâ€œself.â€æ¥è®¿é—®ã€‚è¿™å¯¹äºé˜²æ­¢å­˜å‚¨å˜é‡ã€å‡½æ•°å‚æ•°å’Œå±€éƒ¨å˜é‡ä¹‹é—´çš„å‘½åç©ºé—´å†²çªéå¸¸æœ‰ç”¨ã€‚

å‡½æ•°çš„å®šä¹‰æ–¹å¼ä¸ Solidity ç±»ä¼¼ï¼Œä½†é‡‡ç”¨ Python é£æ ¼çš„è¯­æ³•ï¼Œé€‰æ‹©ä½¿ç”¨å‡½æ•°å±æ€§æ¥æŒ‡ç¤ºå¯è§æ€§å’Œå¯å˜æ€§ã€‚æ ‡è®°ä¸ºâ€œ@externalâ€çš„å‡½æ•°å¯ä»¥é€šè¿‡â€œcallâ€æŒ‡ä»¤ä»å¤–éƒ¨åˆçº¦è®¿é—®ã€‚æ ‡è®°ä¸ºâ€œ@internalâ€çš„å‡½æ•°åªèƒ½ä»åŒä¸€åˆçº¦å†…éƒ¨è®¿é—®ï¼Œå¹¶ä¸”å¿…é¡»ä»¥â€œself.â€ä¸ºå‰ç¼€ã€‚æ ‡è®°ä¸ºâ€œ@pureâ€çš„å‡½æ•°ä¸å¾—ä»æ‰§è¡Œç¯å¢ƒæˆ–æŒä¹…å­˜å‚¨ä¸­è¯»å–ï¼Œä¹Ÿä¸å¾—å†™å…¥æŒä¹…å­˜å‚¨æˆ–åˆ›å»ºä»»ä½•å‰¯ä½œç”¨ã€‚æ ‡è®°ä¸ºâ€œ@viewâ€çš„å‡½æ•°å¯ä»¥ä»æ‰§è¡Œç¯å¢ƒæˆ–æŒä¹…å­˜å‚¨ä¸­è¯»å–ï¼Œä½†ä¸å¾—å†™å…¥æŒä¹…å­˜å‚¨æˆ–åˆ›å»ºå‰¯ä½œç”¨ã€‚æ ‡è®°ä¸ºâ€œ@payableâ€çš„å‡½æ•°å¯ä»¥è¯»å–æˆ–å†™å…¥æŒä¹…å­˜å‚¨ï¼Œåˆ›å»ºå‰¯ä½œç”¨ï¼Œä»æ‰§è¡Œç¯å¢ƒä¸­è¯»å–ï¼Œå¹¶ä¸”å¯ä»¥æ¥æ”¶é™„åŠ åœ¨è°ƒç”¨ä¸­çš„ä»¥å¤ªå¸ã€‚æ²¡æœ‰å¯å˜æ€§å±æ€§çš„å‡½æ•°æ˜¯ä¸å¯æ”¯ä»˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬ä¸å¯æ”¯ä»˜å‡½æ•°ç›¸åŒï¼Œä½†æ²¡æœ‰æ¥æ”¶ä»¥å¤ªå¸çš„èƒ½åŠ›ã€‚

Vyper ç¼–è¯‘å™¨è¿˜é€‰æ‹©å°†æœ¬åœ°å˜é‡å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè€Œä¸æ˜¯å †æ ˆä¸Šã€‚è¿™ä½¿å¾—åˆçº¦æ›´ç®€å•ã€é€šå¸¸æ›´é«˜æ•ˆï¼Œå¹¶ä¿®å¤äº†å…¶ä»–é«˜çº§è¯­è¨€ä¸­å¸¸è§çš„é”™è¯¯ï¼Œâ€œå †æ ˆè¿‡æ·±â€é”™è¯¯ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿå¸¦æ¥äº†ä¸€äº›æƒè¡¡ã€‚

é¦–å…ˆï¼Œç”±äºå†…å­˜å¸ƒå±€å¿…é¡»åœ¨ç¼–è¯‘æ—¶çŸ¥é“ï¼ŒåŠ¨æ€ç±»å‹çš„æœ€å¤§å®¹é‡ä¹Ÿå¿…é¡»åœ¨ç¼–è¯‘æ—¶çŸ¥é“ã€‚æ­¤å¤–ï¼Œå¤§å†…å­˜åˆ†é…ä¼šå¯¼è‡´éçº¿æ€§çš„ gas æ¶ˆè€—ï¼Œå¦‚ EVM æ¦‚è¿°éƒ¨åˆ†æ‰€è¿°ã€‚ç„¶è€Œï¼Œå¯¹äºè®¸å¤šç”¨ä¾‹æ¥è¯´ï¼Œè¿™ç§ gas æˆæœ¬ä»ç„¶å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚

è™½ç„¶ Vyper ä¸æ”¯æŒå†…è”æ±‡ç¼–ï¼Œä½†å®ƒé€šè¿‡å†…ç½®å‡½æ•°å®ç°äº†æ›´å¤šåŠŸèƒ½ï¼Œä»¥ç¡®ä¿å‡ ä¹æ‰€æœ‰ Solidity å’Œ Yul ä¸­çš„åŠŸèƒ½åœ¨ Vyper ä¸­ä¹Ÿæ˜¯å¯è®¿é—®çš„ã€‚é€šè¿‡å†…ç½®å‡½æ•°å’Œæä¾›ç¼–è¯‘æ—¶è¦†ç›–æ–‡ä»¶ï¼Œå¯ä»¥è®¿é—®ä½çº§ä½æ“ä½œã€å¤–éƒ¨è°ƒç”¨å’Œä»£ç†åˆçº¦æ“ä½œï¼Œå¹¶ä¸”å¯ä»¥è‡ªå®šä¹‰å­˜å‚¨å¸ƒå±€ã€‚

è™½ç„¶ Vyper æ²¡æœ‰å¦‚æ­¤å¹¿æ³›çš„å¼€å‘è€…å·¥å…·å¥—ä»¶ï¼Œä½† Vyper å…·æœ‰æ›´ç´§å¯†é›†æˆçš„å·¥å…·ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥æ’å…¥åˆ° Solidity çš„å¼€å‘è€…å·¥å…·ä¸­ã€‚å€¼å¾—æ³¨æ„çš„ Vyper å·¥å…·åŒ…æ‹¬ Titanaboa è§£é‡Šå™¨ï¼Œå…¶ä¸­åŒ…å«è®¸å¤šç”¨äº EVM å’Œ Vyper ç›¸å…³å®éªŒå’Œå¼€å‘çš„å†…ç½®å·¥å…·ï¼Œä»¥åŠ Dasyï¼Œä¸€ä¸ªå»ºç«‹åœ¨ Vyper ä¹‹ä¸Šçš„ Lispï¼Œå…·æœ‰ç¼–è¯‘æ—¶ä»£ç æ‰§è¡ŒåŠŸèƒ½ã€‚

åœ¨ Vyper ä¸­ï¼Œä¸€ä¸ªç®€å•çš„åˆçº¦å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š

```
# @version 0.3.7

counter: public(uint256)

@external
def increment():
&nbsp; &nbsp; self.counter += 1
```

### Fe

Fe æ˜¯ä¸€ç§å…·æœ‰ç±»ä¼¼ Rust è¯­æ³•çš„é«˜çº§è¯­è¨€ã€‚ç›®å‰æ­£åœ¨ç§¯æå¼€å‘ä¸­ï¼Œå¤§å¤šæ•°åŠŸèƒ½å°šæœªæ¨å‡ºã€‚ç¼–è¯‘å™¨ä¸»è¦ç”¨ Rust ç¼–å†™ï¼Œä½†å®ƒä½¿ç”¨ Yul ä½œä¸ºå…¶ IRï¼Œä¾èµ–äºç›®å‰ç”¨ C++ ç¼–å†™çš„ Yul ä¼˜åŒ–å™¨ã€‚éšç€åŒ…å«å…¶ Rust æœ¬æœºåç«¯ Sonatina çš„åŠ å…¥ï¼Œè¿™ç§æƒ…å†µæœ‰æœ›æ”¹å˜ã€‚Fe ä½¿ç”¨æ¨¡å—è¿›è¡Œä»£ç å…±äº«ï¼Œå› æ­¤ä¸ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ¨¡å¼ï¼Œè€Œæ˜¯é€šè¿‡åŸºäºæ¨¡å—çš„ç³»ç»Ÿé‡ç”¨ä»£ç ï¼Œå…¶ä¸­å˜é‡ã€ç±»å‹å’Œå‡½æ•°åœ¨æ¨¡å—å†…å£°æ˜ï¼Œå¹¶ä¸”å¯ä»¥ä»¥ç±»ä¼¼ Rust çš„æ–¹å¼å¯¼å…¥ã€‚

æŒä¹…å­˜å‚¨å˜é‡åœ¨åˆçº¦çº§åˆ«å£°æ˜ï¼Œæ²¡æœ‰æ‰‹åŠ¨å®šä¹‰çš„ getter å‡½æ•°ï¼Œæ— æ³•å…¬å¼€è®¿é—®ã€‚å¸¸é‡å¯ä»¥åœ¨æ–‡ä»¶æˆ–æ¨¡å—çº§åˆ«å£°æ˜ï¼Œå¹¶ä¸”åœ¨åˆçº¦å†…éƒ¨å¯è®¿é—®ã€‚ç›®å‰ä¸æ”¯æŒä¸å¯å˜ã€éƒ¨ç½²æ—¶å˜é‡ã€‚

æ–¹æ³•å¯ä»¥åœ¨æ¨¡å—çº§åˆ«æˆ–åˆçº¦å†…å£°æ˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ˜¯çº¯çš„å’Œç§æœ‰çš„ã€‚è¦ä½¿åˆçº¦æ–¹æ³•å…¬å¼€ï¼Œå…¶å®šä¹‰å¿…é¡»ä»¥â€œpubâ€å…³é”®å­—ä¸ºå‰ç¼€ã€‚è¿™ä½¿å…¶å¯ä»¥ä»å¤–éƒ¨è®¿é—®ã€‚è¦ä»æŒä¹…å­˜å‚¨å˜é‡ä¸­è¯»å–ï¼Œæ–¹æ³•ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯â€œselfâ€ï¼Œè¿™ä½¿æ–¹æ³•é€šè¿‡åœ¨å˜é‡åå‰åŠ ä¸Šâ€œself.â€æ¥è®¿é—®ä»»ä½•æœ¬åœ°å­˜å‚¨å˜é‡ã€‚è¦è¯»å–å’Œå†™å…¥æŒä¹…å­˜å‚¨ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯â€œmut selfâ€ã€‚"mut" å…³é”®å­—è¡¨ç¤ºåˆçº¦çš„å­˜å‚¨åœ¨æ–¹æ³•æ‰§è¡ŒæœŸé—´æ˜¯å¯å˜çš„ã€‚é€šè¿‡ä¼ é€’æ–¹æ³•â€œContextâ€å‚æ•°æ¥è®¿é—®ç¯å¢ƒå˜é‡ã€‚é€šå¸¸å‘½åä¸ºâ€œctxâ€ï¼Œä¸Šä¸‹æ–‡ç±»å‹å®ç°äº†è¯»å–æ‰§è¡Œç¯å¢ƒå€¼çš„æ–¹æ³•ã€‚

å‡½æ•°å’Œè‡ªå®šä¹‰ç±»å‹å¯ä»¥åœ¨æ¨¡å—çº§åˆ«å£°æ˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å—é¡¹éƒ½æ˜¯ç§æœ‰çš„ï¼Œé™¤éä»¥â€œpubâ€å…³é”®å­—ä¸ºå‰ç¼€æ‰èƒ½è®¿é—®ã€‚è¿™ä¸åº”ä¸åˆçº¦çº§åˆ«çš„â€œpubâ€å…³é”®å­—æ··æ·†ã€‚æ¨¡å—çš„å…¬å…±æˆå‘˜åªèƒ½åœ¨æœ€ç»ˆåˆçº¦æˆ–å…¶ä»–æ¨¡å—å†…éƒ¨è®¿é—®ã€‚

åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œä¸æ”¯æŒå†…è”æ±‡ç¼–ï¼Œè€Œæ˜¯é€šè¿‡ç¼–è¯‘å™¨å†…éƒ¨å‡½æ•°åŒ…è£…æŒ‡ä»¤ï¼Œæˆ–è€…åœ¨ç¼–è¯‘æ—¶è§£æä¸ºæŒ‡ä»¤çš„ç‰¹æ®Šå‡½æ•°ã€‚Fe æ‰“ç®—éµå¾ª Rust çš„è¯­æ³•ä»¥åŠå…¶ç±»å‹ç³»ç»Ÿï¼Œå®ç°ç±»å‹åˆ«åã€å…·æœ‰å­ç±»å‹çš„æšä¸¾ã€ç‰¹å¾å’Œæ³›å‹ã€‚ç›®å‰ï¼ŒFe çš„è¿™äº›åŠŸèƒ½è¿˜æœ‰é™ï¼Œä½†æ­£åœ¨å¼€å‘ä¸­ã€‚ç‰¹å¾å¯ä»¥ä¸ºä¸åŒç±»å‹å®šä¹‰å’Œå®ç°ï¼Œä½†ä¸æ”¯æŒæ³›å‹ï¼Œä¹Ÿä¸æ”¯æŒç‰¹å¾çº¦æŸã€‚æšä¸¾æ”¯æŒå­ç±»å‹ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å…¶ä¸Šå®ç°æ–¹æ³•ï¼Œä½†æ— æ³•åœ¨å¤–éƒ¨å‡½æ•°ä¸­å¯¹å…¶è¿›è¡Œç¼–ç ã€‚å°½ç®¡ Fe çš„ç±»å‹ç³»ç»Ÿä»åœ¨å‘å±•ä¸­ï¼Œä½†å®ƒæ˜¾ç¤ºå‡ºä¸ºå¼€å‘äººå‘˜ç¼–å†™æ›´å®‰å…¨ä¸”åœ¨ç¼–è¯‘æ—¶æ£€æŸ¥çš„ä»£ç çš„æ½œåŠ›ã€‚

åœ¨ Fe ä¸­ï¼Œä¸€ä¸ªç®€å•çš„åˆçº¦å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š

```
contract CountTracker {
    count: u256

    pub fn count(self) -&gt; u256 {
        return self.count
    }

    pub fn increment(mut self) {
        self.count += 1
    }
}
```

### Huff

Huff æ˜¯ä¸€ç§æ±‡ç¼–è¯­è¨€ï¼Œå…·æœ‰æ‰‹åŠ¨å †æ ˆæ§åˆ¶å’Œå¯¹ EVM æŒ‡ä»¤é›†çš„æœ€å°æŠ½è±¡ã€‚é€šè¿‡â€œ#includeâ€æŒ‡ä»¤å¯ç”¨ä»£ç é‡ç”¨ï¼Œè¯¥æŒ‡ä»¤åœ¨ç¼–è¯‘æ—¶è§£æä»»ä½•åŒ…å«çš„ Huff æ–‡ä»¶ã€‚æœ€åˆç”± Aztec å›¢é˜Ÿç¼–å†™ï¼Œç”¨äºæå…¶ä¼˜åŒ–çš„æ¤­åœ†æ›²çº¿ç®—æœ¯ï¼Œåæ¥ç¼–è¯‘å™¨è¢«ç”¨ Typescript é‡å†™ï¼Œç„¶åå†æ¬¡ç”¨ Rust é‡å†™ã€‚

å¸¸é‡å¿…é¡»åœ¨ç¼–è¯‘æ—¶å®šä¹‰ï¼Œä¸æ”¯æŒä¸å¯å˜é‡ï¼ŒæŒä¹…æ€§å­˜å‚¨å˜é‡åœ¨è¯­è¨€ä¸­æ²¡æœ‰æ˜ç¡®å®šä¹‰ã€‚ç”±äºå‘½åå­˜å‚¨å˜é‡æ˜¯é«˜çº§æŠ½è±¡ï¼Œå› æ­¤åœ¨ Huff ä¸­å†™å…¥æŒä¹…æ€§å­˜å‚¨æ˜¯é€šè¿‡ä½¿ç”¨å­˜å‚¨æ“ä½œç â€œsstoreâ€è¿›è¡Œçš„å†™å…¥ï¼Œä½¿ç”¨â€œsloadâ€è¿›è¡Œè¯»å–ã€‚è‡ªå®šä¹‰å­˜å‚¨å¸ƒå±€å¯ä»¥ç”±ç”¨æˆ·å®šä¹‰ï¼Œä¹Ÿå¯ä»¥éµå¾ªä»é›¶å¼€å§‹å¹¶ä½¿ç”¨â€œFREE\_STORAGE\_POINTERâ€ç¼–è¯‘å™¨å†…åœ¨å‡½æ•°é€’å¢çš„çº¦å®šã€‚ä½¿å­˜å‚¨å˜é‡å¯åœ¨å¤–éƒ¨è®¿é—®éœ€è¦æ‰‹åŠ¨å®šä¹‰ä¸€ä¸ªèƒ½å¤Ÿè¯»å–å¹¶å°†å˜é‡è¿”å›ç»™è°ƒç”¨è€…çš„ä»£ç è·¯å¾„ã€‚

å¤–éƒ¨å‡½æ•°ä¹Ÿæ˜¯é«˜çº§è¯­è¨€å¼•å…¥çš„æŠ½è±¡ï¼Œå› æ­¤åœ¨ Huff ä¸­æ²¡æœ‰å¤–éƒ¨å‡½æ•°çš„æ¦‚å¿µã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°é¡¹ç›®åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šéµå¾ªå…¶ä»–é«˜çº§è¯­è¨€ï¼ˆæœ€å¸¸è§çš„æ˜¯ Solidityï¼‰çš„ ABI è§„èŒƒã€‚ä¸€ä¸ªå¸¸è§æ¨¡å¼æ˜¯å®šä¹‰ä¸€ä¸ªâ€œè°ƒåº¦å™¨â€ï¼ŒåŠ è½½åŸå§‹è°ƒç”¨æ•°æ®å¹¶ä½¿ç”¨å®ƒæ¥æ£€æŸ¥åŒ¹é…çš„å‡½æ•°é€‰æ‹©å™¨ã€‚å¦‚æœåŒ¹é…ï¼Œåˆ™æ‰§è¡Œå…¶åç»­ä»£ç ã€‚ç”±äºè°ƒåº¦å™¨æ˜¯ç”¨æˆ·å®šä¹‰çš„ï¼Œå®ƒä»¬å¯èƒ½éµå¾ªä¸åŒçš„è°ƒåº¦æ¨¡å¼ã€‚Solidity æŒ‰åç§°æŒ‰å­—æ¯é¡ºåºæ’åˆ—å…¶è°ƒåº¦å™¨ä¸­çš„é€‰æ‹©å™¨ï¼ŒVyper æŒ‰æ•°å­—é¡ºåºæ’åˆ—é€‰æ‹©å™¨ï¼Œå¹¶åœ¨è¿è¡Œæ—¶æ‰§è¡ŒäºŒè¿›åˆ¶æœç´¢ï¼Œå¤§å¤šæ•° Huff è°ƒåº¦å™¨æŒ‰é¢„æœŸçš„å‡½æ•°ä½¿ç”¨é¢‘ç‡æ’åºï¼Œå¾ˆå°‘ä½¿ç”¨è·³è½¬è¡¨ã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼ŒEVM ä¸åŸç”Ÿæ”¯æŒè·³è½¬è¡¨ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨â€œcodecopyâ€ç­‰å†…çœæŒ‡ä»¤æ‰èƒ½å®ç°è¿™ä¸€ç‚¹ã€‚

å†…éƒ¨å‡½æ•°ä½¿ç”¨â€œ#define fnâ€æŒ‡ä»¤å®šä¹‰ï¼Œå¯ä»¥æ¥å—æ¨¡æ¿å‚æ•°ä»¥æé«˜çµæ´»æ€§å’Œå‡½æ•°å¼€å§‹å’Œç»“æŸæ—¶çš„é¢„æœŸå †æ ˆæ·±åº¦ã€‚ç”±äºè¿™äº›å‡½æ•°æ˜¯å†…éƒ¨çš„ï¼Œå› æ­¤æ— æ³•ä»å¤–éƒ¨è®¿é—®ï¼Œå¹¶ä¸”ä½¿ç”¨â€œjumpâ€æŒ‡ä»¤ä¸å…¶å†…éƒ¨äº¤äº’ã€‚

è¯¸å¦‚æ¡ä»¶å’Œå¾ªç¯ä¹‹ç±»çš„å…¶ä»–æ§åˆ¶æµå¯ä»¥ä½¿ç”¨è·³è½¬ç›®æ ‡å®šä¹‰ã€‚è·³è½¬ç›®æ ‡ç”±æ ‡è¯†ç¬¦åè·Ÿå†’å·å®šä¹‰ã€‚å¯ä»¥é€šè¿‡æ¨é€æ ‡è¯†ç¬¦å¹¶æ‰§è¡Œè·³è½¬æŒ‡ä»¤æ¥è·³è½¬åˆ°å®ƒä»¬ã€‚è¿™åœ¨ç¼–è¯‘æ—¶è§£æä¸ºå­—èŠ‚ç åç§»é‡ã€‚

å®ä½¿ç”¨â€œ#define macroâ€æŒ‡ä»¤å®šä¹‰ï¼Œé™¤äº†åœ¨è¯­æ³•ä¸Šä¸å†…éƒ¨å‡½æ•°ç›¸åŒä¹‹å¤–ã€‚å…³é”®åŒºåˆ«åœ¨äºå®ä¸ä¼šåœ¨ç¼–è¯‘æ—¶ç”Ÿæˆâ€œjumpâ€æŒ‡ä»¤ï¼Œè€Œæ˜¯å®çš„ä¸»ä½“ç›´æ¥å¤åˆ¶åˆ°æ–‡ä»¶ä¸­çš„æ¯ä¸ªè°ƒç”¨ä¸­ã€‚

è¿™æ ·åšä¼šåœ¨è¿è¡Œæ—¶çš„Gasæˆæœ¬å’Œè°ƒç”¨è¶…è¿‡ä¸€æ¬¡æ—¶çš„ä»£ç å¤§å°æ–¹é¢äº§ç”Ÿæƒè¡¡ã€‚å°†â€œMAINâ€å®è§†ä¸ºåˆçº¦çš„å…¥å£ç‚¹ï¼Œå…¶ä¸»ä½“å†…çš„ç¬¬ä¸€æ¡æŒ‡ä»¤å°†æˆä¸ºè¿è¡Œæ—¶å­—èŠ‚ç ä¸­çš„ç¬¬ä¸€æ¡æŒ‡ä»¤ã€‚

å…¶ä»–å†…åœ¨ç¼–è¯‘å™¨å†…åœ¨å‡½æ•°åŒ…æ‹¬ç”¨äºæ—¥å¿—è®°å½•çš„äº‹ä»¶å“ˆå¸Œç”Ÿæˆï¼Œç”¨äºè°ƒåº¦çš„å‡½æ•°é€‰æ‹©å™¨ç”Ÿæˆï¼Œç”¨äºé”™è¯¯å¤„ç†çš„é”™è¯¯é€‰æ‹©å™¨ç”Ÿæˆä»¥åŠç”¨äºå†…éƒ¨å‡½æ•°å’Œå®çš„ä»£ç å¤§å°æ£€æŸ¥å™¨çš„å†…çœå†…åœ¨å‡½æ•°ã€‚

åœ¨ Huff ä¸­ï¼Œä¸€ä¸ªç®€å•çš„åˆçº¦å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š

> æ³¨æ„ï¼šè¯¸å¦‚â€œ// \[count\]â€ä¹‹ç±»çš„å †æ ˆæ³¨é‡Šä¸æ˜¯å¿…éœ€æˆ–å¼ºåˆ¶æ‰§è¡Œçš„ï¼Œå®ƒä»¬åªæ˜¯é€šå¸¸ç”¨äºæŒ‡ç¤ºè¯¥è¡Œæ‰§è¡Œç»“æŸæ—¶å †æ ˆçš„çŠ¶æ€ã€‚

```
#define constant COUNT_SLOT = FREE_STORAGE_POINTER()

#define macro MAIN() = takes (0) returns (0) {
&nbsp; &nbsp; 0x00 calldataload 0xe0 shr
&nbsp; &nbsp; dup1 __FUNC_SIG("count") eq is_count jumpi
&nbsp; &nbsp; dup1 __FUNC_SIG("increment") eq is_increment jumpi
&nbsp; &nbsp; pop 0x00 dup1 revert

&nbsp; &nbsp; is_count:
&nbsp; &nbsp; &nbsp; &nbsp; [COUNT_SLOT]&nbsp; &nbsp; // [count_slot]
&nbsp; &nbsp; &nbsp; &nbsp; sload &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // [count]
&nbsp; &nbsp; &nbsp; &nbsp; 0x00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // [pointer, count]
&nbsp; &nbsp; &nbsp; &nbsp; mstore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // []
&nbsp; &nbsp; &nbsp; &nbsp; msize &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // [size]
&nbsp; &nbsp; &nbsp; &nbsp; 0x00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // [pointer, size]
&nbsp; &nbsp; &nbsp; &nbsp; return&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // return to caller

&nbsp; &nbsp; is_increment:
&nbsp; &nbsp; &nbsp; &nbsp; [COUNT_SLOT]&nbsp; &nbsp; // [count_slot]
&nbsp; &nbsp; &nbsp; &nbsp; sload &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // [count]
&nbsp; &nbsp; &nbsp; &nbsp; 0x01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // [one, count]
&nbsp; &nbsp; &nbsp; &nbsp; add &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // [count_plus_one]
&nbsp; &nbsp; &nbsp; &nbsp; [COUNT_SLOT]&nbsp; &nbsp; // [count_slot, count_plus_one]
&nbsp; &nbsp; &nbsp; &nbsp; swap1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // [count_plus_one, count_slot]
&nbsp; &nbsp; &nbsp; &nbsp; sstore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // []
&nbsp; &nbsp; &nbsp; &nbsp; stop&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // halt execution
}
```

### ETK

EVM å·¥å…·åŒ…ï¼ˆETKï¼‰æ˜¯ä¸€ç§å…·æœ‰æ‰‹åŠ¨å †æ ˆç®¡ç†å’Œæœ€å°æŠ½è±¡çš„æ±‡ç¼–è¯­è¨€ã€‚ä»£ç å¯ä»¥é€šè¿‡â€œ%includeâ€å’Œâ€œ%importâ€æŒ‡ä»¤è¿›è¡Œé‡ç”¨ã€‚ç¼–è¯‘å™¨æ˜¯ç”¨ Rust ç¼–å†™çš„ã€‚

Huff å’Œ ETK ä¹‹é—´çš„ä¸€ä¸ªæ˜¾è‘—åŒºåˆ«æ˜¯ï¼ŒHuff ä¸º initcodeï¼ˆä¹Ÿç§°ä¸ºæ„é€ å‡½æ•°ä»£ç ï¼‰æ·»åŠ äº†è½»å¾®çš„æŠ½è±¡ï¼Œå¯ä»¥é€šè¿‡å®šä¹‰ç‰¹æ®Šçš„â€œCONSTRUCTORâ€å®æ¥è¦†ç›–å®ƒã€‚åœ¨ ETK ä¸­ï¼Œè¿™äº›ä¸ä¼šè¢«æŠ½è±¡åŒ–ï¼Œinitcode å’Œè¿è¡Œæ—¶ä»£ç å¿…é¡»ä¸€èµ·å®šä¹‰ã€‚

ä¸ Huff ç±»ä¼¼ï¼ŒETK é€šè¿‡â€œsloadâ€å’Œâ€œsstoreâ€æŒ‡ä»¤è¯»å–å’Œå†™å…¥æŒä¹…æ€§å­˜å‚¨ã€‚æ²¡æœ‰å¸¸é‡æˆ–ä¸å¯å˜å…³é”®å­—ï¼Œä½†æ˜¯åœ¨ ETK ä¸­ï¼Œå¸¸é‡å¯ä»¥é€šè¿‡ä¸¤ç§ç±»å‹çš„å®ä¹‹ä¸€æ¥æ¨¡æ‹Ÿï¼Œå³è¡¨è¾¾å¼å®ã€‚è¡¨è¾¾å¼å®ä¸ä¼šè§£æä¸ºæŒ‡ä»¤ï¼Œè€Œæ˜¯å¯ä»¥åœ¨å…¶ä»–æŒ‡ä»¤ä¸­ä½¿ç”¨çš„æ•°å€¼ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯èƒ½ä¸ä¼šå®Œå…¨ç”Ÿæˆâ€œpushâ€æŒ‡ä»¤ï¼Œä½†å¯èƒ½ç”Ÿæˆä¸€ä¸ªæ•°å­—ï¼Œä»¥ä¾¿åŒ…å«åœ¨â€œpushâ€æŒ‡ä»¤ä¸­ã€‚

å¦‚å‰æ‰€è¿°ï¼Œå¤–éƒ¨å‡½æ•°æ˜¯é«˜çº§è¯­è¨€æ¦‚å¿µï¼Œå› æ­¤è¦å°†ä»£ç è·¯å¾„æš´éœ²ç»™å¤–éƒ¨ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªå‡½æ•°é€‰æ‹©å™¨è°ƒåº¦å™¨ã€‚

å†…éƒ¨å‡½æ•°ä¸åƒå…¶ä»–è¯­è¨€é‚£æ ·æ˜ç¡®å®šä¹‰ï¼Œè€Œæ˜¯å¯ä»¥ä¸ºè·³è½¬ç›®æ ‡æŒ‡å®šç”¨æˆ·å®šä¹‰çš„åˆ«åï¼Œå¹¶é€šè¿‡å…¶åç§°è·³è½¬ã€‚è¿™ä¹Ÿå…è®¸å…¶ä»–æ§åˆ¶æµï¼Œå¦‚å¾ªç¯å’Œæ¡ä»¶ã€‚å¦‚å‰æ‰€è¿°ï¼ŒETK æ”¯æŒä¸¤ç§å®ã€‚ç¬¬ä¸€ç§æ˜¯è¡¨è¾¾å¼å®ï¼Œå¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°å¹¶è¿”å›ä¸€ä¸ªæ•°å€¼ï¼Œè¯¥æ•°å€¼å¯ä¸å…¶ä»–æŒ‡ä»¤ä¸€èµ·ä½¿ç”¨ã€‚è¡¨è¾¾å¼å®ä¸ç”ŸæˆæŒ‡ä»¤ï¼Œè€Œæ˜¯ç”Ÿæˆç«‹å³å€¼æˆ–å¸¸é‡å€¼ã€‚ç„¶è€Œï¼ŒæŒ‡ä»¤å®æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¹¶åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆä»»æ„æ•°é‡çš„æŒ‡ä»¤ã€‚ETK ä¸­çš„æŒ‡ä»¤å®çš„è¡Œä¸ºç±»ä¼¼äº Huff å®çš„è¡Œä¸ºã€‚

ä¸€ä¸ªç®€å•çš„ ETK åˆçº¦å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š

```
// initcode.etk
%push(end - start)
dup1
%push(start)
returndatasize
codecopy
returndatasize
return

start:
%include(â€œmain.etkâ€)
end:

// main.etk

%def slot()
    0x00
%end

start:
    push1 0x00
    calldataload
    push1 0xe0
    shr
    dup1
    push4 selector("count()")
    eq
    push1 is_count
    jumpi
    push4 selector("increment()")
    eq
    push1 is_increment
    jumpi
    push1 0x00
    dup1
    revert
    is_count:
        jumpdest
        push1 slot()
        sload
        push1 0x00
        mstore
        msize
        push1 0x00
        return
    is_increment:
        jumpdest
        push1 slot()
        sload
        push1 0x01
        add
        push1 slot()
        sstore
        stop
end:
```

### Yul

Yul æ˜¯ä¸€ç§å…·æœ‰é«˜çº§æ§åˆ¶æµå’Œå¤§é‡æŠ½è±¡å †æ ˆç®¡ç†çš„æ±‡ç¼–è¯­è¨€ã€‚å®ƒæ˜¯ Solidity å·¥å…·é“¾çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥é€‰æ‹©åœ¨ Solidity ç¼–è¯‘æµç¨‹ä¸­ä½¿ç”¨ã€‚åœ¨ Yul ä¸­ä¸æ”¯æŒä»£ç é‡ç”¨ï¼Œå› ä¸ºå®ƒæ—¨åœ¨ä½œä¸ºç¼–è¯‘ç›®æ ‡è€Œä¸æ˜¯ç‹¬ç«‹è¯­è¨€ã€‚ç¼–è¯‘å™¨æ˜¯ç”¨ C++ç¼–å†™çš„ï¼Œè®¡åˆ’éšç€ Solidity æµæ°´çº¿çš„å…¶ä½™éƒ¨åˆ†è¿ç§»åˆ° Rustã€‚

åœ¨ Yul ä¸­ï¼Œä»£ç è¢«åˆ†æˆå¯ä»¥åŒ…å«ä»£ç ã€æ•°æ®å’ŒåµŒå¥—å¯¹è±¡çš„å¯¹è±¡ã€‚å› æ­¤ï¼Œæ²¡æœ‰å¸¸é‡æˆ–å¤–éƒ¨å‡½æ•°ã€‚éœ€è¦å®šä¹‰ä¸€ä¸ªå‡½æ•°é€‰æ‹©å™¨åˆ†å‘å™¨æ¥å…¬å¼€å¤–éƒ¨ä»£ç è·¯å¾„ã€‚

å¤§å¤šæ•°æŒ‡ä»¤ï¼Œä¸è€ƒè™‘å †æ ˆå’Œæ§åˆ¶æµæŒ‡ä»¤ï¼Œéƒ½è¢«å…¬å¼€ä¸º Yul ä¸­çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå¼¹å‡ºä¸¤ä¸ªå€¼å¹¶æ¨é€ä¸€ä¸ªå€¼çš„æŒ‡ä»¤å°†è¢«åŒ…è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œè¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°å¹¶è¿”å›ä¸€ä¸ªå€¼ã€‚æŒ‡ä»¤å¯ä»¥åµŒå¥—ä»¥ç¼©çŸ­ä»£ç ï¼Œæˆ–è€…å¯ä»¥åˆ†é…ç»™ä¸´æ—¶å˜é‡ï¼Œç„¶åä¼ é€’ç»™å…¶ä»–æŒ‡ä»¤ã€‚æ¡ä»¶åˆ†æ”¯å¯ä»¥ä½¿ç”¨â€œifâ€å—æ‰§è¡Œï¼Œå¦‚æœå€¼ä¸ºéé›¶ï¼Œåˆ™æ‰§è¡Œï¼Œä½†æ²¡æœ‰â€œelseâ€å—ï¼Œå› æ­¤å¤„ç†å¤šä¸ªä»£ç è·¯å¾„éœ€è¦ä¸€ä¸ªâ€œswitchâ€ï¼Œå¯ä»¥å¤„ç†ä»»æ„æ•°é‡çš„æƒ…å†µå’Œä¸€ä¸ªâ€œdefaultâ€å¤‡ç”¨é€‰é¡¹ã€‚å¾ªç¯å¯ä»¥ä½¿ç”¨â€œforâ€å¾ªç¯æ‰§è¡Œï¼›è™½ç„¶å…¶è¯­æ³•ä¸å…¶ä»–é«˜çº§è¯­è¨€ä¸åŒï¼Œä½†æä¾›äº†ç›¸åŒçš„åŸºæœ¬åŠŸèƒ½ã€‚å†…éƒ¨å‡½æ•°å¯ä»¥ä½¿ç”¨â€œfunctionâ€å…³é”®å­—å®šä¹‰ï¼Œå¹¶ä¸”ç±»ä¼¼äºé«˜çº§è¯­è¨€çš„å‡½æ•°å®šä¹‰ã€‚

å¤§å¤šæ•° Yul ä¸­çš„åŠŸèƒ½éƒ½å¯ä»¥åœ¨ Solidity ä¸­ä½¿ç”¨å†…è”æ±‡ç¼–å—æš´éœ²å‡ºæ¥ã€‚è¿™ä½¿å¼€å‘äººå‘˜å¯ä»¥æ‰“ç ´æŠ½è±¡å¹¶ç¼–å†™è‡ªå®šä¹‰åŠŸèƒ½æˆ–åœ¨é«˜çº§è¯­æ³•ä¸­å¯ç”¨ä¹‹å‰ä½¿ç”¨ Yul ä¸­çš„åŠŸèƒ½ã€‚ç„¶è€Œï¼Œä½¿ç”¨æ­¤åŠŸèƒ½éœ€è¦æ·±å…¥äº†è§£ Solidity åœ¨ calldataã€memory å’Œ storage æ–¹é¢çš„è¡Œä¸ºã€‚

è¿˜æœ‰ä¸€äº›ç‹¬ç‰¹äºç‹¬ç«‹ Yul æ–¹è¨€çš„å‡½æ•°ã€‚â€œdatasizeâ€ã€â€œdataoffsetâ€å’Œâ€œdatacopyâ€å‡½æ•°é€šè¿‡å®ƒä»¬çš„å­—ç¬¦ä¸²åˆ«åæ“ä½œ Yul å¯¹è±¡ã€‚â€œsetimmutableâ€å’Œâ€œloadimmutableâ€å‡½æ•°å…è®¸åœ¨æ„é€ å‡½æ•°ä¸­è®¾ç½®å’ŒåŠ è½½ä¸å¯å˜å‚æ•°ï¼Œå°½ç®¡å®ƒä»¬çš„ä½¿ç”¨å—åˆ°é™åˆ¶ã€‚â€œlinkersymbolâ€å‡½æ•°å…è®¸åŠ¨æ€å¤–éƒ¨åº“é“¾æ¥ã€‚â€œmemoryguardâ€å‡½æ•°æŒ‡ç¤ºç¼–è¯‘å™¨åªä¼šåˆ†é…ç»™å®šå†…å­˜èŒƒå›´ï¼Œä»è€Œä½¿ç¼–è¯‘å™¨èƒ½å¤Ÿæ‰§è¡Œæ›´å¤šçš„å†…å­˜ä¼˜åŒ–ã€‚æœ€åï¼Œâ€œverbatimâ€å…è®¸ä½¿ç”¨ Yul ç¼–è¯‘å™¨æœªçŸ¥çš„æŒ‡ä»¤ã€‚

ä¸€ä¸ªç®€å•çš„ Yul åˆçº¦å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š

```
object "CounterTracker" {
    code {
        let runtimesize := datasize("runtime")
        datacopy(0x00, dataoffset("runtime"), runtimesize)
        return(0x00, runtimesize)
    }
    object "runtime" {
        code {
            switch shr(0xe0, calldataload(0x00))
            case 0x06661abd {
                count()
            }
            case 0xd09de08a {
                increment()
            }
            default {
                revert(0x00, 0x00)
            }

            function count() {
                mstore(0x00, sload(0x00))
                return(0x00, 0x20)
            }

            function increment() {
                sstore(0x00, add(0x01, sload(0x00)))
            }
        }
    }
}
```

## ä¼˜ç§€çš„ EVM DSL ç‰¹æ€§

ä¸€ä¸ªä¼˜ç§€çš„ EVM DSL åº”è¯¥å¸å–è¿™é‡Œåˆ—å‡ºçš„æ¯ç§è¯­è¨€çš„ä¼˜ç¼ºç‚¹ã€‚åŸºç¡€çŸ¥è¯†åŒ…æ‹¬å‡ ä¹æ‰€æœ‰ç°ä»£è¯­è¨€ä¸­çš„ç‰¹æ€§ï¼Œå¦‚æ¡ä»¶è¯­å¥ã€æ¨¡å¼åŒ¹é…ã€å¾ªç¯ã€å‡½æ•°ç­‰ã€‚ä»£ç åº”è¯¥æ˜ç¡®ï¼Œæœ€å°åŒ–éšå¼æŠ½è±¡é€šå¸¸æ˜¯ä¸ºäº†ä»£ç ç¾å­¦æˆ–å¯è¯»æ€§è€Œæ·»åŠ çš„ã€‚åœ¨é«˜é£é™©ã€æ­£ç¡®æ€§å…³é”®çš„ç¯å¢ƒä¸­ï¼Œæ¯ä¸€è¡Œä»£ç éƒ½åº”è¯¥æ˜ç¡®å¯è§£é‡Šã€‚æ­¤å¤–ï¼Œä¸€ä¸ªè‰¯å¥½å®šä¹‰çš„æ¨¡å—ç³»ç»Ÿåº”è¯¥æ˜¯ä»»ä½•ä¼˜ç§€è¯­è¨€çš„æ ¸å¿ƒã€‚åº”è¯¥æ¸…æ¥šåœ°çŸ¥é“å“ªäº›é¡¹ç›®åœ¨å“ªä¸ªä½œç”¨åŸŸä¸­å®šä¹‰ï¼Œä»¥åŠå¯ä»¥è®¿é—®å“ªäº›é¡¹ç›®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡å—ä¸­çš„æ¯ä¸ªé¡¹ç›®éƒ½åº”è¯¥æ˜¯ç§æœ‰çš„ï¼Œåªæœ‰æ˜ç¡®å…¬å¼€çš„é¡¹ç›®æ‰èƒ½åœ¨å¤–éƒ¨è®¿é—®ã€‚åœ¨å•ä¸ªé¡¹ç›®ä¸­é‡ç”¨ä»£ç æ˜¯ä¸€ä¸ªå¼€å§‹ï¼Œä½†è¿˜åº”è¯¥æœ‰ä¸€ä¸ªç´§å¯†é›†æˆçš„åŒ…ç®¡ç†å™¨ï¼Œç”¨äºä½¿ç”¨å¤–éƒ¨å®šä¹‰çš„ä»£ç ã€‚

å¦‚å‰æ‰€è¿°ï¼Œåœ¨åƒ EVM è¿™æ ·èµ„æºå—é™çš„ç¯å¢ƒä¸­ï¼Œæ•ˆç‡å¾ˆé‡è¦ã€‚é€šè¿‡æä¾›ä½æˆæœ¬çš„æŠ½è±¡ï¼Œå¦‚é€šè¿‡å®å®ç°çš„ç¼–è¯‘æ—¶ä»£ç æ‰§è¡Œã€ç”¨äºåˆ›å»ºè®¾è®¡è‰¯å¥½ã€å¯é‡ç”¨åº“çš„ä¸°å¯Œç±»å‹ç³»ç»Ÿä»¥åŠå¸¸è§é“¾ä¸Šäº¤äº’çš„åŒ…è£…å™¨ï¼Œå¯ä»¥å®ç°æ•ˆç‡ã€‚å®åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆä»£ç ï¼Œè¿™å¯¹äºå‡å°‘å¸¸è§æ“ä½œçš„æ ·æ¿ä»£ç ä»¥åŠåœ¨ Huff ç­‰æƒ…å†µä¸‹è¿›è¡Œä»£ç å¤§å°ä¸è¿è¡Œæ—¶æ•ˆç‡çš„æƒè¡¡éå¸¸æœ‰ç”¨ã€‚ä¸°å¯Œçš„ç±»å‹ç³»ç»Ÿå…è®¸æ›´å…·è¡¨ç°åŠ›çš„ä»£ç ï¼Œæ›´å¤šçš„ç¼–è¯‘æ—¶æ£€æŸ¥ä»¥åœ¨è¿è¡Œæ—¶ä¹‹å‰æ•è·é”™è¯¯ï¼Œå¹¶ä¸”å½“ä¸ç±»å‹æ£€æŸ¥çš„ç¼–è¯‘å™¨å†…ç½®å‡½æ•°é…åˆä½¿ç”¨æ—¶ï¼Œå¯èƒ½ä¼šæ¶ˆé™¤å¤§éƒ¨åˆ†å†…è”æ±‡ç¼–çš„éœ€æ±‚ã€‚æ³›å‹è¿˜å…è®¸å°†å¯ä¸ºç©ºå€¼ï¼ˆä¾‹å¦‚å¤–éƒ¨ä»£ç ï¼‰åŒ…è£…åœ¨â€œoptionâ€ç±»å‹ä¸­ï¼Œæˆ–å°†å¯èƒ½å¤±è´¥çš„æ“ä½œï¼ˆä¾‹å¦‚å¤–éƒ¨è°ƒç”¨ï¼‰åŒ…è£…åœ¨â€œresultâ€ç±»å‹ä¸­ã€‚è¿™ä¸¤ç§ç±»å‹æ˜¯åº“ç¼–å†™è€…å¦‚ä½•å¼ºåˆ¶å¼€å‘äººå‘˜å¤„ç†æ¯ä¸ªç»“æœçš„ç¤ºä¾‹ï¼Œé€šè¿‡å®šä¹‰ä¸¤ä¸ªä»£ç è·¯å¾„æˆ–åœ¨å¤±è´¥çš„æƒ…å†µä¸‹å›æ»šäº¤æ˜“ã€‚ç„¶è€Œï¼Œè¯·è®°ä½ï¼Œè¿™äº›æ˜¯ç¼–è¯‘æ—¶çš„æŠ½è±¡ï¼Œä¼šåœ¨è¿è¡Œæ—¶è§£æä¸ºç®€å•çš„æ¡ä»¶è·³è½¬ã€‚åœ¨ç¼–è¯‘æ—¶å¼ºåˆ¶å¼€å‘äººå‘˜å¤„ç†æ¯ä¸ªç»“æœä¼šå¢åŠ åˆå§‹å¼€å‘æ—¶é—´ï¼Œä½†æœ‰åŠ©äºå‡å°‘è¿è¡Œæ—¶çš„æƒŠå–œã€‚

çµæ´»æ€§å¯¹äºå¼€å‘äººå‘˜çš„äººä½“å·¥ç¨‹å­¦ä¹Ÿå¾ˆé‡è¦ï¼Œå› æ­¤å¯¹äºå¤æ‚æ“ä½œï¼Œé»˜è®¤æƒ…å†µä¸‹åº”è¯¥æ˜¯å®‰å…¨ä¸”å¯èƒ½æ•ˆç‡è¾ƒä½çš„è·¯çº¿ï¼Œæœ‰æ—¶éœ€è¦ä½¿ç”¨æ›´æœ‰æ•ˆçš„ä»£ç è·¯å¾„æˆ–ä¸æ”¯æŒçš„åŠŸèƒ½ã€‚ä¸ºæ­¤ï¼Œåº”è¯¥å‘å¼€å‘äººå‘˜å…¬å¼€å†…è”æ±‡ç¼–ï¼Œä½†ä¸è®¾é˜²æŠ¤æ ã€‚Solidity çš„å†…è”æ±‡ç¼–æœ‰ä¸€äº›é˜²æŠ¤æ ï¼Œæ˜¯ä¸ºäº†ç®€å•èµ·è§å’Œæ›´å¥½çš„ä¼˜åŒ–å™¨ä¼ é€’ï¼Œä½†å½“å¼€å‘äººå‘˜éœ€è¦å®Œå…¨æ§åˆ¶æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œä»–ä»¬åº”è¯¥å¾—åˆ°ç¡®åˆ‡çš„æˆæƒã€‚æ‚é¡¹åŠŸèƒ½ï¼Œå¦‚æœèƒ½åŒ…æ‹¬å‡½æ•°å’Œå…¶ä»–é¡¹ç›®åœ¨ç¼–è¯‘æ—¶å¯æ“ä½œçš„å±æ€§å°†ä¼šå¾ˆå¥½ã€‚ä¸€ä¸ªâ€œinlineâ€å±æ€§å¯ä»¥è·å–ä¸€ä¸ªç®€å•å‡½æ•°çš„ä¸»ä½“å¹¶å°†å…¶å¤åˆ¶åˆ°æ¯æ¬¡è°ƒç”¨ä¸­ï¼Œè€Œä¸æ˜¯ä¸ºäº†æ•ˆç‡è€Œåˆ›å»ºæ›´å¤šè·³è½¬ã€‚ä¸€ä¸ªâ€œabiâ€å±æ€§å¯ä»¥å…è®¸æ‰‹åŠ¨è¦†ç›–ä¸ºç»™å®šå¤–éƒ¨å‡½æ•°ç”Ÿæˆçš„ ABIï¼Œä»¥é€‚åº”å…·æœ‰ä¸åŒä»£ç é£æ ¼çº¦å®šçš„è¯­è¨€ã€‚ä¸€ä¸ªå¯é€‰å®šä¹‰çš„ã€å¯é…ç½®çš„å‡½æ•°åˆ†å‘å™¨ï¼Œå…è®¸åœ¨é«˜çº§è¯­è¨€ä¸­è¿›è¡Œå®šåˆ¶ï¼Œå¯ä»¥ä¸ºé¢„è®¡æ›´å¸¸ç”¨çš„ä»£ç è·¯å¾„æä¾›é¢å¤–çš„ä¼˜åŒ–ï¼Œä¾‹å¦‚ï¼Œåœ¨â€œnameâ€ä¹‹å‰æ£€æŸ¥é€‰æ‹©å™¨æ˜¯å¦ä¸ºâ€œtransferâ€æˆ–â€œtransferFromâ€å°†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è¡¥å……ã€‚

## ç»“è®º

EVM æ™ºèƒ½åˆçº¦ DSL è®¾è®¡å·²ç»å–å¾—äº†é•¿è¶³çš„è¿›æ­¥ï¼Œä½†è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚æ¯ç§è¯­è¨€éƒ½åšå‡ºäº†è‡ªå·±ç‹¬ç‰¹çš„è®¾è®¡å†³ç­–ï¼Œæˆ‘æœŸå¾…çœ‹åˆ°å®ƒä»¬åœ¨æœªæ¥çš„å‘å±•ã€‚ä½œä¸ºå¼€å‘äººå‘˜ï¼Œå­¦ä¹ å°½å¯èƒ½å¤šçš„è¯­è¨€å¯¹æˆ‘ä»¬æœ‰å¥½å¤„ï¼ŒåŸå› æœ‰å‡ ä¸ªã€‚é¦–å…ˆï¼Œå­¦ä¹ å¤šç§è¯­è¨€å¹¶äº†è§£å®ƒä»¬çš„å·®å¼‚å’Œç›¸ä¼¼ä¹‹å¤„å°†åŠ æ·±æˆ‘ä»¬å¯¹ç¼–ç¨‹å’Œåº•å±‚æœºå™¨æ¶æ„çš„ç†è§£ã€‚å…¶æ¬¡ï¼Œåœ¨æŠ€æœ¯ç¤¾åŒºä¸­å¹¿æ³›è®¤è¯†åˆ°ï¼Œè¯­è¨€å…·æœ‰æ·±è¿œçš„ç½‘ç»œæ•ˆåº”å’Œå¼ºå¤§çš„ä¿ç•™ç‰¹æ€§ã€‚æ¯«æ— ç–‘é—®ï¼Œå¤§è§„æ¨¡çš„å‚ä¸è€…éƒ½åœ¨æ„å»ºè‡ªå·±çš„ç¼–ç¨‹è¯­è¨€ï¼Œä» C#ã€Swift å’Œ Kotlin åˆ° Solidityã€Sway å’Œ Cairoã€‚å­¦ä¼šåœ¨è¿™äº›è¯­è¨€ä¹‹é—´æ— ç¼åˆ‡æ¢ï¼Œå°†ä¸ºè½¯ä»¶å·¥ç¨‹èŒä¸šæä¾›æ— ä¸ä¼¦æ¯”çš„çµæ´»æ€§ã€‚æœ€åï¼Œé‡è¦çš„æ˜¯è¦ç†è§£æ¯ç§è¯­è¨€èƒŒåæ‰€åšçš„å¤§é‡å·¥ä½œã€‚è™½ç„¶æ²¡æœ‰ä¸€ç§æ˜¯å®Œç¾çš„ï¼Œä½†æ— æ•°æ‰åæ¨ªæº¢çš„äººå·²ç»ä»˜å‡ºäº†å·¨å¤§çš„åŠªåŠ›ï¼Œä¸ºåƒæˆ‘ä»¬è¿™æ ·çš„å¼€å‘äººå‘˜åˆ›é€ äº†ä¸€ä¸ªå®‰å…¨è€Œæ„‰å¿«çš„ä½“éªŒã€‚

å¸Œæœ›ä½ å–œæ¬¢è¿™ç¯‡ç®€è¦ä»‹ç» EVM DSL è®¾è®¡ç°çŠ¶çš„æ–‡ç« ï¼Œå¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« å¹¶æƒ³çœ‹åˆ°æ›´å¤šï¼Œè¯·è®¢é˜…ä¸‹æ–¹å¹¶åœ¨ [Twitter](https://twitter.com/jtriley_eth) ä¸Šå…³æ³¨æˆ‘ï¼Œä»¥è·å–å®šæœŸæ›´æ–°ã€‚ä¸‹æ¬¡å†è§ï¼Œç¥ä½ ç¼–ç¨‹æ„‰å¿« ğŸ¤˜

> æˆ‘æ˜¯ [AI ç¿»è¯‘å®˜](https://learnblockchain.cn/people/19584)ï¼Œä¸ºå¤§å®¶è½¬è¯‘ä¼˜ç§€è‹±æ–‡æ–‡ç« ï¼Œå¦‚æœ‰ç¿»è¯‘ä¸é€šçš„åœ°æ–¹ï¼Œåœ¨[è¿™é‡Œ](https://github.com/lbc-team/Pioneer/blob/master/translations/8612.md)ä¿®æ”¹ï¼Œè¿˜è¯·åŒ…æ¶µï½