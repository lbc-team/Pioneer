
>- åŸæ–‡é“¾æ¥ï¼šhttps://read.cryptodatabytes.com/p/how-to-navigate-contract-code-solidity
>- è¯‘è€…ï¼š[AIç¿»è¯‘å®˜](https://learnblockchain.cn/people/19584)ï¼Œæ ¡å¯¹ï¼š[ç¿»è¯‘å°ç»„](https://learnblockchain.cn/people/412)
>- æœ¬æ–‡æ°¸ä¹…é“¾æ¥ï¼š[learnblockchain.cn/articleâ€¦](https://learnblockchain.cn/article/9282)
    


é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ å¼€å§‹ç ”ç©¶ä¸€ä¸ªåè®®æ—¶ï¼Œä¼šè¿…é€Ÿæ‰¾åˆ°ä¸€ä¸ªè°ƒç”¨ 5 ä¸ªä»¥ä¸Šåˆçº¦å¹¶å¼•å‘ 20 ä¸ªä»¥ä¸Šæ—¥å¿—çš„ç¤ºä¾‹äº¤æ˜“ã€‚ä½ å»æŸ¥çœ‹ä»–ä»¬çš„æ–‡æ¡£ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå¯èƒ½ä¼šçœ‹åˆ°è¿™æ ·çš„å†…å®¹ï¼š

ä½ å¦‚ä½•æµè§ˆè¿™äº› Solidity åˆçº¦ä»¥æ‰¾åˆ°ä½ åˆ†ææ‰€éœ€çš„ç­”æ¡ˆå’Œæ•°æ®ï¼Ÿæˆ‘å°†åœ¨æœ¬æŒ‡å—ä¸­æ¶µç›–ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ä»¥åŠæˆ‘çš„æç¤ºå’ŒæŠ€å·§ã€‚æˆ‘ä»¬å°†ç ”ç©¶æ–°çš„ [Zora x Uniswap](https://dune.com/ilemi/zora-extensions) åˆçº¦ï¼Œè¯¥åˆçº¦äº 2024 å¹´ 8 æœˆåˆéƒ¨ç½²ã€‚

_ä½ åº”è¯¥å…ˆå°è¯•åœ¨ [Dune ä¸Šæœç´¢](https://docs.dune.com/web-app/search#advanced-search) æ¶‰åŠæŸä¸ªåè®®çš„ç°æœ‰æŸ¥è¯¢/ä»ªè¡¨æ¿ï¼Œå› ä¸ºé€šå¸¸é˜…è¯»/åˆ†å‰ç°æœ‰ SQL æ¯”ç›´æ¥é˜…è¯» Solidity æ›´å®¹æ˜“ã€‚_

æ¯å½“ä½ å¼€å§‹åˆ†æä¸€ä¸ªåè®®æ—¶ï¼Œä½ æƒ³æ‰¾åˆ°ä¸¤ä¸ªç¤ºä¾‹äº¤æ˜“ï¼š

*   ä¸»è¦åˆçº¦éƒ¨ç½²äº¤æ˜“ï¼ˆéƒ¨ç½²æ–°çš„ NFT æˆ– Uniswap æ± ï¼‰
    
*   ä¸»è¦æ“ä½œäº¤æ˜“ï¼ˆäº¤æ¢ã€é“¸é€ ç­‰ï¼‰
    

æˆ‘è¯´â€œä¸»è¦â€æ˜¯å› ä¸ºé€šå¸¸æœ‰è®¸å¤šåˆçº¦å’Œæ“ä½œï¼Œä½†å®ƒä»¬é€šå¸¸éƒ½æºäºä¸€ä¸ªèµ·å§‹åˆçº¦/æ“ä½œã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ çš„å®é™…èµ·ç‚¹æ¥è‡ªæŸä¸ªåœ°æ–¹çš„æ¨æ–‡ï¼Œä½ å¿…é¡»é€æ­¥æ‰¾åˆ°è¿™ä¸¤ä¸ªäº¤æ˜“ã€‚

è®©æˆ‘ä»¬ä»¥ Zora åœ¨å…¶åè®®ä¸Šçš„æ–° Uniswap æ‰©å±•ä¸ºä¾‹â€”â€”æœ¬è´¨ä¸Šå…è®¸ä½ åˆ›å»ºä¸€ä¸ªå¯ä»¥åœ¨ Uniswap ä¸Šä½œä¸º ERC20 è¿›è¡Œäº¤æ˜“çš„ ERC1155ï¼Œè€Œä¸æ˜¯åœ¨ OpenSea/Blur ä¸Šè¿›è¡Œäº¤æ˜“ã€‚ä»–ä»¬å‘å¸ƒäº†è¿™ä»½ [ç®€çŸ­æ¦‚è¿°æŒ‡å—](https://twitter.com/zora/status/1821579634108178546)ï¼Œè¿˜å‘å¸ƒäº† [ä»–ä»¬åœ¨è¿™ä¸ªæ–°åè®®ä¸Šçš„ç¬¬ä¸€æ¬¡é“¸é€ ](https://twitter.com/zora/status/1821273397760041200)ã€‚åœ¨çœŸæ­£çš„åŠ å¯†é£æ ¼ä¸­ï¼ŒçœŸæ­£çš„æ–‡æ¡£é€šå¸¸è¦åˆ°å¾ˆæ™šæ‰ä¼šå‡ºç°ï¼ˆæœ‰æ—¶ç”šè‡³æ°¸è¿œä¸ä¼šï¼‰ã€‚ä½ ä»ç„¶åº”è¯¥å°è¯•å…ˆæœç´¢æ–‡æ¡£ï¼Œä½†è¿™ä¸ªç¤ºä¾‹å°†å®Œå…¨ä¾èµ–é“¾ä¸Šæ•°æ®è¿›è¡Œä¾¦æŸ¥ã€‚

æˆ‘é€šå¸¸å‘ç°è·å–ä¸»è¦åˆçº¦å’Œäº¤æ˜“çš„æœ€ç®€å•æ–¹æ³•æ˜¯é€šè¿‡è‡ªå·±ä¸äº§å“äº’åŠ¨ã€‚å› æ­¤ï¼Œå½“å®ƒé¦–æ¬¡ä¸Šçº¿æ—¶ï¼Œæˆ‘ [é“¸é€ äº†ä¸€äº›æ— é™ Zorb](https://explorer.zora.energy/tx/0xf8a74dd53ecff823bf3614c7dede6d9f9ce9c31525710cd3fb7ce5d00191720b)ã€‚

æ­¤äº¤æ˜“ä¸ºæˆ‘æä¾›äº†ä¸€ä¸ªå¯ä»¥ç¨åç”¨äºäº¤æ˜“é‡è®¡ç®—çš„ä¸»è¦æ“ä½œï¼Œä½†æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒä¸ºæˆ‘æä¾›äº†ä¸¤ä¸ªä¸»è¦åˆçº¦çš„å‚è€ƒï¼š

1.  **ZoraTimedSaleStrategyImpl**ï¼šæˆ‘çŸ¥é“è¿™å¿…é¡»æ˜¯è¿™ä¸ªæ–°åè®®å‡çº§çš„æ ¸å¿ƒï¼Œå› ä¸ºå®ƒæ˜¯ä¸»è¦çš„â€œç›®æ ‡â€åˆçº¦ï¼Œå¯èƒ½æ˜¯è®¾ç½®é“¸é€ /äºŒçº§å¸‚åœºé…ç½®çš„åœ°æ–¹ã€‚
    
2.  **Limitless Zorb**ï¼šæˆ‘çŸ¥é“è¿™æ˜¯ä¸€ä¸ª ERC1155 ä»£å¸ï¼ŒæŸç§ç¨‹åº¦ä¸Šè¢«è½¬æ¢ä¸º ERC20 ä»¥ä¾¿åœ¨ Uniswap ä¸Šäº¤æ˜“ã€‚
    

åŒºå—æµè§ˆå™¨ä¸Šçš„åˆçº¦é¡µé¢æ€»æ˜¯æœ‰ä¸€ä¸ªâ€œåˆ›å»ºäº¤æ˜“å“ˆå¸Œâ€é“¾æ¥ï¼ˆé€šå¸¸ä½ é¦–å…ˆä¼šè¢«å¸¦åˆ°ä»£å¸é¡µé¢ï¼Œç„¶åä½ å¿…é¡»å†æ¬¡ç‚¹å‡»åˆçº¦æ‰èƒ½åˆ°è¾¾åˆçº¦é¡µé¢ï¼‰ã€‚

æ‰€ä»¥å¦‚æœæˆ‘ä»¬å¿«é€Ÿæ±‡æ€»ä¸€ä¸‹æˆ‘ä»¬æ‰€æ‹¥æœ‰çš„ï¼Œæˆ‘ä»¬å¾—åˆ°ï¼š

*   **[ZoraTimedSaleStrategy](https://explorer.zora.energy/address/0x777777722D078c97c6ad07d9f36801e653E356Ae?tab=contract)** (ZTSS)
    
    *   [åˆ›å»ºäº¤æ˜“](https://explorer.zora.energy/tx/0x9157f50c80a93ae135267644e6fd4ae9b5b558fce2f86557445fe0aeda535d09) - å¿«é€ŸæŸ¥çœ‹å‘Šè¯‰æˆ‘è¿™ä¸æ˜¯ä¸€ä¸ªå·¥å‚åˆçº¦ï¼Œå› ä¸ºå®ƒè°ƒç”¨äº†ä¸€ä¸ªâ€œç¡®å®šæ€§è°ƒç”¨è€…â€åˆçº¦ï¼Œè¯¥åˆçº¦ç”¨äº [ä½¿ç”¨ CREATE2 éƒ¨ç½²](https://book.getfoundry.sh/tutorials/create2-tutorial)ï¼Œè€Œä¸æ˜¯ CREATEã€‚è¿™å°†å…¶éƒ¨ç½²åˆ°ä¸€ä¸ªç¡®åˆ‡çš„åœ°å€ï¼Œé€šå¸¸æ˜¯ä¸ºäº†ä½¿åŒä¸€åˆçº¦åœ¨å¤šä¸ªé“¾ä¸Šå…·æœ‰ç›¸åŒçš„åœ°å€ã€‚
        
*   **[ERC1155/ERC20 é›†åˆ (Limitless Zorb)](https://explorer.zora.energy/address/0x86aF55FC811FEF6f9729D32aDcf2c253CA5A16C1)**
    
    *   [åˆ›å»ºäº¤æ˜“](https://explorer.zora.energy/tx/0x8cd4b29e5ab191d8fa805c829f7a89a3e2fe186acbd934f5b98e8862e54cc9a4?tab=index) - æˆ‘çœ‹åˆ°è°ƒç”¨äº†ä¸€ä¸ªâ€œå·¥å‚â€æ¥éƒ¨ç½²è¿™ä¸ªï¼Œæ‰€ä»¥è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå·¥å‚åˆ›å»ºçš„åˆçº¦ï¼Œæ¯ä¸ªé›†åˆéƒ½æœ‰è‡ªå·±çš„éƒ¨ç½²ã€‚
        
    *   [é“¸é€ äº¤æ˜“](https://explorer.zora.energy/tx/0xf8a74dd53ecff823bf3614c7dede6d9f9ce9c31525710cd3fb7ce5d00191720b?tab=index) - æˆ‘ä»äº§å“ç•Œé¢å‘é€çš„é‚£ä¸ª
        
    *   æˆ‘ä»¬è¿˜æ²¡æœ‰äºŒçº§å¸‚åœº/Uniswap äº¤æ˜“
        

è€ƒè™‘åˆ°è¿™ä¸€åŸºç¡€ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªé—®é¢˜å¹¶æ·±å…¥ä»£ç ã€‚

å¥½äº†ï¼Œä¸€æ—¦ä½ å¯¹ä¸»è¦åˆçº¦å’Œäº¤æ˜“æœ‰äº†å¤§è‡´äº†è§£ï¼Œä½ å°±å¯ä»¥å¼€å§‹ä¾¦æŸ¥äº†ã€‚ä½ åº”è¯¥åˆ—å‡ºä½ çš„é—®é¢˜ï¼Œå¹¶å°è¯•æµè§ˆä»£ç ä»¥å›ç­”æ¯ä¸€ä¸ªé—®é¢˜ï¼Œå¯¹äºæœ¬æŒ‡å—ï¼Œæˆ‘æƒ³å›ç­”çš„é—®é¢˜æ˜¯ï¼š

> **é—®é¢˜**ï¼šâ€œé“¸é€ æœŸç»“æŸåï¼ŒUniswap æ± æ˜¯å¦‚ä½•å¯åŠ¨çš„ï¼Œè°æ§åˆ¶ç¬¬ä¸€ä¸ª LP ä½ç½®ï¼Œè°ä»ä¸­è·å¾—äº¤æ¢è´¹ç”¨ï¼Ÿâ€
> 
> **å¦‚æœä½ è®¤ä¸ºè‡ªå·±æ“…é•¿è¿™ä¸ªï¼Œè¯·å°è¯•ä»…ä½¿ç”¨æˆ‘è¿„ä»Šä¸ºæ­¢æä¾›çš„é“¾æ¥æ¥å›ç­”è¿™ä¸ªé—®é¢˜ã€‚**

æˆ‘ä»¬å¯ä»¥çŒœæµ‹ï¼Œé”€å”®çš„æƒé™/åŠŸèƒ½ä¸ ZoraTimedSaleStrategy (ZTSS) åˆçº¦ç›¸å…³ï¼Œè€Œä¸æ˜¯ä¸é›†åˆåˆçº¦æœ¬èº«ç›¸å…³ã€‚æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘åœ¨é›†åˆåˆ›å»ºäº¤æ˜“ä¸­æ²¡æœ‰çœ‹åˆ°è¿™ä¸ªåˆçº¦å‘å‡ºçš„ä»»ä½•äº‹ä»¶â€”â€”è¿™å¯¹æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªä¿¡å·ï¼Œè¡¨æ˜ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª ERC1155ï¼Œå¹¶å¯èƒ½åœ¨ä¹‹åé™„åŠ  ERC20/å®šæ—¶é”€å”®ç»„ä»¶ã€‚

æˆ‘å»æŸ¥çœ‹ [ZTSS åˆçº¦ä»£ç é¡µé¢](https://explorer.zora.energy/address/0x777777722D078c97c6ad07d9f36801e653E356Ae?tab=contract)ï¼Œæˆ‘é¦–å…ˆçœ‹åˆ°çš„æ˜¯ [å®ƒæ˜¯ä¸€ä¸ªä»£ç†](https://docs.openzeppelin.com/contracts/4.x/api/proxy)ã€‚è¿™æ„å‘³ç€â€œä»£ç†â€å¤„ç†å˜é‡çš„å­˜å‚¨ï¼Œä½†æœ‰ä¸€ä¸ªâ€œå®ç°â€åˆçº¦åŒ…å«å®é™…çš„åˆçº¦é€»è¾‘ã€‚ä½ é€šå¸¸éœ€è¦è½¬åˆ°â€œè¯»å–ä»£ç†â€æˆ–â€œå†™å…¥ä»£ç†â€é€‰é¡¹å¡ä»¥è·å–å®ç°åœ°å€ï¼š

> âš  è­¦å‘Šï¼šä»£ç†å¯ä»¥å‡çº§ä»¥æŒ‡å‘ä¸åŒçš„å®ç°ä»¥æ›´æ”¹é€»è¾‘ã€‚æ­¤ç¤ºä¾‹ä¸­çš„ä»£ç†åœ¨ 2024 å¹´ 8 æœˆ 23 æ—¥å‡çº§ä¸º [æ­¤å®ç°](https://explorer.zora.energy/address/0x9aCA1F8E0472f2Cc66BBE2e1981a2a8Ad2fE5720?tab=contract)ï¼Œä½†æœ¬æŒ‡å—çš„å…¶ä½™éƒ¨åˆ†å¼•ç”¨äº† [æ—§å®ç°](https://explorer.zora.energy/address/0xA582f080c36B7551dbC541a0CFFeB6101183C9b3?tab=contract)ã€‚è¿™æ˜¯ä¸ºäº†å¼•å…¥ [æ–°çš„ launchMarket() æ¡ä»¶](https://x.com/zora/status/1827088045805621751)ã€‚

å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬æœ‰äº†ä¸€äº›è¿›å±•â€¦â€¦æœ‰ç‚¹ã€‚æŸ¥çœ‹ä»£ç æµè§ˆå™¨ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°è¿™é‡Œå®é™…ä¸Šæœ‰æ•°åä¸ªç»§æ‰¿/å¼•ç”¨çš„åˆçº¦ã€‚

[

![](https://img.learnblockchain.cn/attachments/migrate/1725952702828)

](https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F234286d1-5560-4acd-b95f-9187ab868c9c_259x549.png)

ä½ å¯ä»¥ç›´æ¥å¿½ç•¥å¾ˆå¤šå†…å®¹â€”â€”ä½†æ˜¯æœ€é‡è¦çš„æ˜¯è¦å…³æ³¨â€œæ¥å£â€ã€‚æ¥å£ç”¨äº [è®©ä¸€ä¸ªåˆçº¦è°ƒç”¨å¦ä¸€ä¸ªåˆçº¦çš„å‡½æ•°](https://www.alchemy.com/overviews/solidity-interface)ã€‚æˆ‘çŸ¥é“ Uniswap å®é™…ä¸Šæ˜¯ä¸€ç»„ä¸åŒçš„åˆçº¦ï¼Œæ‰€ä»¥æˆ‘æƒ³å¯»æ‰¾ç”¨äºåˆ›å»º/å‘æ± æ·»åŠ æµåŠ¨æ€§çš„ Uniswap æ¥å£ã€‚

è¿™å°±åƒåœ¨æ–‡ä»¶é¡¶éƒ¨çš„å¯¼å…¥ä¸­æŒ‰ ctrl+f â€œIUniswapV3Poolâ€ ä¸€æ ·ç®€å•ã€‚æˆ‘æ‰¾åˆ°äº† 5 ä¸ªåŒ¹é…é¡¹ï¼Œå…¶ä¸­ 2 ä¸ªæ˜¯å¯¼å…¥è¡Œï¼Œ3 ä¸ªä½äº 285-290 è¡Œã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1725952702831)

å‘ä¸Šæ»šåŠ¨ä¸€ç‚¹ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°è°ƒç”¨çš„æ˜¯è¿™ä¸ª â€œlaunchMarket()â€ å‡½æ•°ã€‚è¿™é‡Œçš„è¯´æ˜è¯´ï¼Œä»»ä½•äººåœ¨ä¸»è¦é”€å”®ç»“æŸåéƒ½å¯ä»¥è°ƒç”¨å®ƒæ¥åˆ›å»º uniswap æ± ã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1725952702834)

å¦‚æœä½ å·²ç»æœ‰é‚£ä¸ªåœ°å€ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥æ‰¾ uniswap æ± å’Œæ± çš„åˆ›å»º tx å“ˆå¸Œæ¥æ‰¾åˆ°è¿™ä¸ªã€‚

ç°åœ¨å¦‚æœæˆ‘å‘ä¸‹æ»šåŠ¨ï¼Œæˆ‘ä¼šæ³¨æ„åˆ°å®é™…ä¸Šæ²¡æœ‰çœ‹åˆ° uniswap æ± è¢«åˆ›å»ºæˆ–æµåŠ¨æ€§è¢«æ·»åŠ  - åªæ˜¯è®¾ç½®äº†ä¸€ä¸ªä»·æ ¼ã€‚ç›¸åï¼Œå‡½æ•°çš„æœ«å°¾è°ƒç”¨äº†ä¸€ä¸ª â€œIERC20Zâ€ æ¥å£ï¼Œå¹¶å¸¦æœ‰ â€œactivateâ€ å‡½æ•°ã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1725952702833)

å¥½çš„ - æ‰€ä»¥ç°åœ¨æˆ‘ä»¬çŸ¥é“å¿…é¡»ä»¥æŸç§æ–¹å¼æ‰¾åˆ° ERC20Z åˆçº¦å¹¶æ£€æŸ¥ â€œactivateâ€ å‡½æ•°çš„å®šä¹‰ã€‚ä½ çš„æ€ç»´åº”è¯¥å¸Œæœ›è½¬å‘å¯»æ‰¾ä¸æ— é™ zorb æ”¶è—ç›¸å…³çš„ ERC20Zã€‚æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼š

*   æœŸæœ›åœ¨é›†åˆä¸Šæœ‰ä¸€ä¸ªè¯»å–å‡½æ•°æ¥è·å– erc20 åœ°å€
    
*   æŸ¥æ‰¾é›†åˆåˆ›å»º txn ä¸­çš„æŸä¸ªäº‹ä»¶ä»¥è·å– erc20 åœ°å€
    
*   æŸ¥æ‰¾ä¸é›†åˆåˆçº¦ç›¸å…³çš„ ZTSS ä¸­çš„æŸä¸ªäº‹ä»¶/å‡½æ•°ï¼Œä»¥å°† erc20 åˆçº¦ä¸é›†åˆåˆçº¦å…³è”
    

å‰ä¸¤ä¸ªå®é™…ä¸Šåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯æ­»èƒ¡åŒï¼Œå› ä¸º erc20 æ˜¯é›†åˆçš„å¯é€‰ç»„ä»¶ã€‚å¦‚æœæˆ‘å» ZTSS ä»£ç†é¡µé¢å’Œ â€œlogsâ€ åˆ—ï¼Œæˆ‘å¯ä»¥çœ‹åˆ°ä¸€å † SaleSet() äº‹ä»¶ï¼Œä¼¼ä¹åŒ…å« â€œerc20zAddressâ€ å’Œ â€œpoolAddressâ€ å­—æ®µã€‚è¿™å¹¶ä¸æ€»æ˜¯æœ€å¯é çš„æ–¹æ³•ï¼Œæˆ‘å»ºè®®ä½ å°†åˆçº¦æ’å…¥æˆ‘çš„ [EVM å¿«é€Ÿå…¥é—¨ä»ªè¡¨æ¿](https://read.cryptodatabytes.com/p/how-to-start-analyzing-any-web3-protocol) å¹¶æ£€æŸ¥æœ€å¸¸å‘å‡ºçš„äº‹ä»¶/å‡½æ•°çš„ç¤ºä¾‹ã€‚

æˆ‘ä¼šç‚¹å‡»æœ€è¿‘çš„ SetSale() äº¤æ˜“ä¹‹ä¸€ï¼Œçœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆã€‚é€šè¿‡è·Ÿè¸ªæ—¥å¿—ï¼Œæˆ‘å¯ä»¥çœ‹åˆ° ERC20z å’Œ uniswap æ± å®é™…ä¸Šåœ¨é”€å”®æ‰©å±•è¢«æ¿€æ´»æ—¶å·²ç»éƒ¨ç½²ï¼ˆCREATE2ï¼‰ï¼å®ƒåªæ˜¯è¿˜æ²¡æœ‰ä»»ä½•æµåŠ¨æ€§ï¼Œå› æ­¤æ— æ³•è¿›è¡Œäº¤æ˜“ã€‚

ERC20z ä¹Ÿæ˜¯ä» ZTSS åˆçº¦éƒ¨ç½²çš„ï¼Œæ‰€ä»¥æˆ‘å¯ä»¥ 100% ç¡®å®šæœ‰æŸä¸ªè¯»å–å‡½æ•°å¯ä»¥æœç´¢é›†åˆå¹¶è·å–å…¶ ERC20zï¼ˆå’Œ uniswap æ± ï¼‰è¯¦ç»†ä¿¡æ¯ã€‚æœç„¶ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª â€œsale()â€ è¯»å–å‡½æ•°ï¼š

æˆ‘æ’å…¥ [Limitless Zorb æ”¶è—åœ°å€å’Œä»£å¸ ID](https://zora.co/collect/zora:0x86af55fc811fef6f9729d32adcf2c253ca5a16c1/2)ï¼ˆæ¥è‡ª URLï¼‰å¹¶è·å¾—æˆ‘ä»¬çš„ erc20zAddress å’Œ poolAddressï¼å¦‚æœä½ æ—©äº›æ—¶å€™æ³¨æ„åˆ°å®ƒï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ ctrl + f â€œIERC20Zâ€ åœ¨ ZTSS å®ç°ä»£ç ä¸­æ‰¾åˆ°è¿™ä¸ªğŸ˜‰ã€‚

å¥½çš„ï¼Œç°åœ¨æˆ‘ä»¬ [erc20z åœ°å€](https://explorer.zora.energy/address/0xF3cDcA11108780008D04491Ac699E962abEFF151) - æ‰€ä»¥ç°åœ¨è®©æˆ‘ä»¬å›åˆ°å¯»æ‰¾ â€œactivate()â€ å‡½æ•°ã€‚å®ƒæ˜¯ä¸€ä¸ªä»£ç†ï¼Œæ‰€ä»¥æˆ‘å†æ¬¡é€‰æ‹© â€œè¯»å–åˆçº¦â€ â†’ â€œå®ç°â€ ä»¥è·å–å®é™…ä»£ç ã€‚ç„¶åæˆ‘åªéœ€ ctrl + f æŸ¥æ‰¾ â€œfunction activate(â€œï¼Œå› ä¸ºè¿™å°±æ˜¯åœ¨ solidity ä¸­å®šä¹‰å‡½æ•°çš„æ–¹å¼ã€‚

åœ¨è¯¥å‡½æ•°ä¸­ï¼Œæˆ‘çœ‹åˆ°è¿™ä¸€å…³é”®è¡Œï¼Œé€šè¿‡æ¥å£è°ƒç”¨ Uniswap ä½ç½®ç®¡ç†å™¨ä»¥åˆ›å»ºç¬¬ä¸€ä¸ªæµåŠ¨æ€§ä½ç½®ï¼š

![](https://img.learnblockchain.cn/attachments/migrate/1725952702847)

å®ƒå®é™…ä¸ŠæŒ‡å‘ä¸€ä¸ª â€œroyaltiesâ€ åœ°å€ï¼å¥½çš„ï¼Œå†æ¬¡ ctrl + f æŸ¥æ‰¾ royalties çš„å®šä¹‰ã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1725952703521)

è¿™æ˜¯ä¸€ä¸ªå…¬å…±å˜é‡ï¼Œè¿™æ„å‘³ç€å®ƒè‡ªåŠ¨è·å¾—ä¸€ä¸ªè¯»å–å‡½æ•°ã€‚æˆ‘å»è¯»å–åˆçº¦ â€œroyalties()â€ ä»¥è·å–ç‰ˆç¨åˆçº¦åœ°å€ï¼š

![](https://img.learnblockchain.cn/attachments/migrate/1725952703519)

æˆ‘ä»¬ç°åœ¨ç¦»ç›®æ ‡å¾ˆè¿‘ - æ¥ä¸‹æ¥è®©æˆ‘ä»¬å»æŸ¥çœ‹ç‰ˆç¨åˆçº¦ä»£ç ã€‚è¿™ä¸ªåˆçº¦å¾ˆç®€å•ï¼Œå› ä¸ºåªæœ‰ä¸¤ä¸ªç›¸å…³çš„å…¬å…±å‡½æ•°ï¼šclaim() å’Œ claimFor()ï¼Œå®ƒå°†æµåŠ¨æ€§æ± ä½ç½®çš„è´¹ç”¨ä¼ é€’ç»™ä»£å¸çš„åˆ›å»ºè€…ã€‚è¿™é‡Œçš„å¤æ‚æ€§åœ¨äºè¯»å– â€œå†…éƒ¨â€ å‡½æ•°ï¼Œ [è¿™äº›åŸºæœ¬ä¸Šæ˜¯æ— æ³•åœ¨åˆçº¦å¤–éƒ¨è°ƒç”¨çš„å‡½æ•°](https://docs.soliditylang.org/en/latest/contracts.html#function-visibility) ï¼Œå¹¶åœ¨å¤–éƒ¨å‡½æ•°ä¸­è°ƒç”¨ã€‚

æˆ‘é€šå¸¸å°†ä»£ç ç²˜è´´åˆ° chatgpt ä¸­ï¼Œå¹¶é—®å®ƒï¼šâ€œè¿™æ˜¯ä¸€ä¸ª solidity åˆçº¦ã€‚ä½ èƒ½ç”»å‡ºä¸€ä¸ªèŠ‚ç‚¹å›¾ï¼Œæ˜¾ç¤ºæ‰€æœ‰å‡½æ•°è°ƒç”¨çš„è°ƒç”¨æµå—ï¼Ÿå°†å…¬å…±/å¤–éƒ¨å‡½æ•°æ˜¾ç¤ºä¸ºæ©™è‰²ï¼Œå†…éƒ¨å‡½æ•°æ˜¾ç¤ºä¸ºæµ…è“è‰²ï¼Œæ¥å£å‡½æ•°æ˜¾ç¤ºä¸ºç°è‰²ã€‚å°†å…¶æ˜¾ç¤ºä¸ºä»å·¦åˆ°å³çš„æ ‘çŠ¶å›¾ï¼Œå…¶ä¸­å‡½æ•°è°ƒç”¨çš„å¼€å§‹åœ¨å·¦ä¾§ã€‚å¢å¤§å›¾å½¢å¤§å°ä»¥é€‚åº”æ‰€æœ‰èŠ‚ç‚¹ã€‚â€

æ‰€ä»¥æˆ‘ä»¬æ„Ÿå…´è¶£çš„å‡½æ•°è°ƒç”¨æµçœ‹èµ·æ¥åƒè¿™æ ·ï¼š

*   claim() â†’ \_claim() â†’ \_collect() / \_transfer()
    

ä½ åªä¼šåœ¨äº¤æ˜“è·Ÿè¸ªä¸­çœ‹åˆ° â€œclaim()â€ è¢«è°ƒç”¨ï¼Œå› ä¸ºåˆçº¦å†…è°ƒç”¨æ²¡æœ‰è·Ÿè¸ªï¼ˆé™¤äº†å†…å­˜è·Ÿè¸ªï¼Œä½†æˆ‘ä»¬ä¸è®¨è®ºè¿™ä¸ªï¼‰ã€‚\_collect() é€šè¿‡è°ƒç”¨ä½ç½®ç®¡ç†å™¨ uniswap æ¥å£ä»æ± ä¸­è·å–è´¹ç”¨ï¼Œè€Œ \_transfer() å°†è¿™äº›è´¹ç”¨ä¼ é€’ç»™åˆ›å»ºè€…ã€‚

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ\_transfer() å‡½æ•°æœ‰ä¸€éƒ¨åˆ†è´¹ç”¨å½’ Zora å›¢é˜Ÿæ‰€æœ‰ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨ getFee() å‡½æ•°ä¸­æ‰¾åˆ°ä¸€ä¸ªå…¬å…±å˜é‡ feeBpsï¼Œæ‰€ä»¥æˆ‘ä»¬ä»åˆçº¦çš„ â€œè¯»å–â€ é¡µé¢è¯»å–å®ƒï¼š

![](https://img.learnblockchain.cn/attachments/migrate/1725952703516)

å®ƒä»¥ â€œbpsâ€ ä¸ºå•ä½ï¼Œè¿™æ„å‘³ç€åŸºç‚¹ï¼Œå…¶ä¸­ 100 ä¸ªåŸºç‚¹ç­‰äº 1 ä¸ªç™¾åˆ†ç‚¹ã€‚2500/100 æ˜¯ 25ï¼Œå› æ­¤ä»–ä»¬ä»åˆå§‹ LP å¥–åŠ±ä¸­æ”¶å– 25% çš„è´¹ç”¨ï¼å¦‚æœä½ å» uniswap æ± ï¼Œä½ ä¼šçœ‹åˆ°å®ƒåœ¨æ‰€æœ‰äº¤æ¢ä¸­æ”¶å– 1% çš„è´¹ç”¨ã€‚å› æ­¤ï¼Œå®é™…ä¸Šï¼Œåˆ›å»ºè€…åœ¨æ‰€æœ‰äº¤æ¢ä¸­æ”¶å– 0.75% çš„è´¹ç”¨ï¼Œè€Œ Zora æ”¶å– 0.25% çš„è´¹ç”¨ã€‚

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåˆçº¦ä¸­æ²¡æœ‰ä»»ä½•æå– LP ä½ç½®çš„å‡½æ•° - å› æ­¤è¯¥ LP ä½ç½®æ°¸è¿œæ— æ³•ä»æ± ä¸­æå–ã€‚åˆ›å»ºè€…ï¼ˆå’Œ Zoraï¼‰ä¹Ÿæ— æ³• rug æ± ï¼Œå°½ç®¡è¿™äº› ERC20/ETH LP ä»£å¸ç°åœ¨ä¹Ÿæ— æ³•è®¤é¢†ï¼ˆé™¤éä½ ä¹°ä¸‹æ•´ä¸ªæ›²çº¿ï¼‰ã€‚

æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬ç°åœ¨å¾—åˆ°äº†ç­”æ¡ˆï¼š

*   **Uniswap æ± åœ¨é“¸é€ æœŸç»“æŸåæ˜¯å¦‚ä½•å¯åŠ¨çš„ï¼Ÿ** launchMarket() å‡½æ•°ï¼Œä»»ä½•äººéƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚æ± å·²ç»åœ¨ SetSale() äº‹ä»¶ä¸­ä¸ erc20z ä¸€èµ·éƒ¨ç½²ã€‚
    
*   **è°æ§åˆ¶ç¬¬ä¸€ä¸ª LP ä½ç½®ï¼Ÿ** æ²¡æœ‰äººï¼Œå®ƒå½’ç‰ˆç¨åˆçº¦æ‰€æœ‰å¹¶è¢«é”€æ¯ã€‚ç‰ˆç¨åˆçº¦ä»ç„¶å¯ä»¥ä»è¯¥ä½ç½®æ”¶å–è´¹ç”¨ã€‚

*   **è°è·å¾—äº†äº¤æ¢è´¹ç”¨ï¼Ÿ** è´¹ç”¨åœ¨ Zora å’Œåˆ›ä½œè€…ä¹‹é—´åˆ†é…ï¼Œåˆ†åˆ«ä¸º 0.25%å’Œ 0.75%ã€‚

å¤šä¹ˆå¥‡å¦™çš„æ—…ç¨‹ï¼å¦‚æœä½ è·Ÿéšäº†è¿™é‡Œçš„ä¸€åˆ‡ï¼Œé‚£ä¹ˆä½ ç¡®å®æŒæ¡äº†å¦‚ä½•åœ¨åˆçº¦ã€æ¥å£ã€ä»£ç†å’Œäº¤æ˜“ä¹‹é—´å¯¼èˆªã€‚ä»…ä¾é åŒºå—æµè§ˆå™¨å’Œåƒ Dune è¿™æ ·çš„å·¥å…·æ¥åšåˆ°è¿™ä¸€ç‚¹å°†ä½¿ä½ æˆä¸ºè¶…çº§åˆ†æå¸ˆã€‚

å†æ¬¡å¼ºè°ƒï¼Œæ‰€æœ‰è¿™äº›éƒ½æ˜¯ä¸ºäº†å›ç­”â€œåœ¨é“¸é€ æœŸç»“æŸåï¼ŒUniswap æ± æ˜¯å¦‚ä½•å¯åŠ¨çš„ï¼Œè°æ§åˆ¶ç¬¬ä¸€ä¸ª LP ä½ç½®ï¼Œä»¥åŠè°è·å¾—äº†äº¤æ¢è´¹ç”¨ï¼Ÿâ€

æˆ‘ä»¬åœ¨è¿™æ®µæ—…ç¨‹ä¸­æ‰¾åˆ°çš„èµ„æºåˆ—è¡¨ï¼š

*   **[ZoraTimedSaleStrategy](https://explorer.zora.energy/address/0x777777722D078c97c6ad07d9f36801e653E356Ae?tab=contract)** (ZTSS), **([impl](https://explorer.zora.energy/address/0xA582f080c36B7551dbC541a0CFFeB6101183C9b3?tab=contract))**
    
    *   [åˆ›å»ºäº¤æ˜“](https://explorer.zora.energy/tx/0x9157f50c80a93ae135267644e6fd4ae9b5b558fce2f86557445fe0aeda535d09) - å¿«é€ŸæŸ¥çœ‹å‘Šè¯‰æˆ‘è¿™ä¸æ˜¯ä¸€ä¸ªå·¥å‚åˆçº¦ã€‚æ‰€ä»¥å®ƒå¿…é¡»åœ¨æ‰€æœ‰é›†åˆä¹‹é—´å…±äº«ã€‚
        
    *   [SaleSet ERC20/æ± åˆ›å»ºäº¤æ˜“](https://explorer.zora.energy/tx/0x79f03b94feae1f4c9463621dfc0288fdc045e88a5a3112b76a34a1fb421dfea5)
        
*   **[ERC1155/ERC20 é›†åˆï¼ˆLimitless Zorbï¼‰](https://explorer.zora.energy/address/0x86aF55FC811FEF6f9729D32aDcf2c253CA5A16C1)**
    
    *   [åˆ›å»ºäº¤æ˜“](https://explorer.zora.energy/tx/0x8cd4b29e5ab191d8fa805c829f7a89a3e2fe186acbd934f5b98e8862e54cc9a4?tab=index) - æˆ‘çœ‹åˆ°è°ƒç”¨äº†ä¸€ä¸ªâ€œå·¥å‚â€æ¥éƒ¨ç½²è¿™ä¸ªï¼Œæ‰€ä»¥è¿™å¯èƒ½æ˜¯ä¸€ä¸ªå·¥å‚åˆ›å»ºçš„åˆçº¦ï¼Œæ¯ä¸ªé›†åˆéƒ½æœ‰è‡ªå·±çš„éƒ¨ç½²ã€‚
        
    *   [é“¸é€ äº¤æ˜“](https://explorer.zora.energy/tx/0xf8a74dd53ecff823bf3614c7dede6d9f9ce9c31525710cd3fb7ce5d00191720b?tab=index) - æˆ‘ä»äº§å“ç•Œé¢å‘é€çš„é‚£ä¸ª
        
    *   [erc20z åœ°å€](https://explorer.zora.energy/address/0xF3cDcA11108780008D04491Ac699E962abEFF151) ([impl](https://explorer.zora.energy/address/0xA23bD7012a050166E24a2A67B33Adb63E75eF37c?tab=contract_code))
        
*   [ç‰ˆç¨åˆçº¦](https://explorer.zora.energy/address/0x77777771DF91C56c5468746E80DFA8b880f9719F?tab=contract)ï¼ˆä¸æ˜¯ä»£ç†ï¼‰

ä½ ä¼šåœ¨æ·±å…¥æ•°æ®æ—¶å‘ç°å‡½æ•°ç»“æ„å’Œç³»ç»Ÿå‚æ•°ã€éƒ¨ç½²ç®¡ç†ç­‰æ¨¡å¼ã€‚åœ¨è¿›è¡Œç ”ç©¶æ—¶ä¿æŒåƒæˆ‘ä¸Šé¢é‚£æ ·çš„ç¬”è®°æ¸…å•ä¼šè®©ä½ çš„ç”Ÿæ´»è½»æ¾å¾ˆå¤šã€‚

> å…¶ä»–åˆå­¦è€…èµ„æºï¼š
> 
> *   [åŠ å¯†æ•°æ®åˆ†æå¸ˆè·¯çº¿å›¾](https://roadmap.sh/r?id=65fee5b66deb533d6e19fb88)
>     
> *   [åˆå­¦è€… SQL å’Œä»¥å¤ªåŠæŒ‡å—](https://read.cryptodatabytes.com/p/a-basic-wizard-guide-to-dune-sql)
>     
> *   [é˜…è¯»åŒºå—æµè§ˆå™¨çš„åŸºç¡€çŸ¥è¯†](https://read.cryptodatabytes.com/p/how-to-understand-transactions-traces)
>     
> 
> ä¸ç¤¾åŒºä¸€èµ·æ„å»ºæ›´å®¹æ˜“ã€æ›´æœ‰è¶£ï¼Œ [æ¥åŠ å…¥ Bytexplorers](https://read.cryptodatabytes.com/p/join-the-bytexplorers)ï¼Œåœ¨ä½ çš„æ•°æ®æ—…ç¨‹ä¸­å­¦ä¹ å’Œèµšé’±ã€‚

> æˆ‘æ˜¯ [AI ç¿»è¯‘å®˜](https://learnblockchain.cn/people/19584)ï¼Œä¸ºå¤§å®¶è½¬è¯‘ä¼˜ç§€è‹±æ–‡æ–‡ç« ï¼Œå¦‚æœ‰ç¿»è¯‘ä¸é€šçš„åœ°æ–¹ï¼Œåœ¨[è¿™é‡Œ](https://github.com/lbc-team/Pioneer/blob/master/translations/9282.md)ä¿®æ”¹ï¼Œè¿˜è¯·åŒ…æ¶µï½