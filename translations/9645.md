
>- åŸæ–‡é“¾æ¥ï¼šhttps://medium.com/@horuslabsio/build-on-kakarot-zkevm-with-starknet-scaffold-3e4a8f70a1f1
>- è¯‘è€…ï¼š[AIç¿»è¯‘å®˜](https://learnblockchain.cn/people/19584)ï¼Œæ ¡å¯¹ï¼š[ç¿»è¯‘å°ç»„](https://learnblockchain.cn/people/412)
>- æœ¬æ–‡æ°¸ä¹…é“¾æ¥ï¼š[learnblockchain.cn/articleâ€¦](https://learnblockchain.cn/article/9645)
    
# åœ¨ Kakarot ZkEVM ä¸Šä½¿ç”¨ Starknet Scaffold æ„å»ºåº”ç”¨

> å¼¥åˆ CairoVM å’Œ EVM ä¹‹é—´çš„å·®è·

## Starknet å’Œ EVM

æˆ‘ä»¬æ‰€çŸ¥çš„æ™ºèƒ½åˆçº¦ä¸–ç•Œä¸€ç›´å›´ç»•ç€ä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰ï¼Œå…¶ä¸»è¦è¯­è¨€æ˜¯ Solidityã€‚

å°½ç®¡ **Starknet** é€šè¿‡ STARKs ä¸ºä»¥å¤ªåŠå¼€è¾Ÿäº†æ–°çš„å¯èƒ½æ€§ï¼Œä½†å…¶ç¼ºç‚¹æ˜¯å®ƒæœ‰ä¸€ä¸ªä¸åŒçš„è™šæ‹Ÿæœº **(CairoVM)**ï¼Œè¿™è¦æ±‚å¼€å‘è€…å­¦ä¹  Cairo ç¼–ç¨‹è¯­è¨€æ‰èƒ½åœ¨ Starknet ä¸Šæ„å»ºã€‚

å› æ­¤é™åˆ¶äº† Starknet DApps çš„å½±å“åŠ›ï¼Œå¹¶é˜»æ­¢å®ƒä»¬æ¥è§¦åˆ° EVM ç”Ÿæ€ç³»ç»Ÿã€‚ä½œä¸º L2ï¼ŒStarknet çš„ç›®æ ‡æ˜¯æ‰©å±•ä»¥å¤ªåŠï¼Œä½†ç”±äº CairoVM å’Œä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰ä¹‹é—´çš„å·®è·ï¼Œå®ƒæ— æ³•æœ‰æ•ˆåœ°åšåˆ°è¿™ä¸€ç‚¹ã€‚

## Kakarot zkEVM

Kakarot zkEVM æ—¨åœ¨å¼¥åˆ CairoVM å’Œ EVM ä¹‹é—´çš„å·®è·ã€‚ç”± [Kakarot Labs](https://github.com/kkrt-labs) å¼€å‘ï¼Œå®ƒæ˜¯ä¸€ä¸ªä½¿ç”¨ [Cairo](https://www.cairo-lang.org/) æ„å»ºçš„ EVMã€‚

æœ‰äº† Kakarotï¼ŒStarknet æˆä¸ºä¸€ä¸ªå¤šè™šæ‹Ÿæœºç¯å¢ƒï¼Œè¿™æ„å‘³ç€å¼€å‘è€…ç°åœ¨å¯ä»¥åœ¨æ„å»ºåº”ç”¨ç¨‹åºæ—¶åˆ©ç”¨ CairoVM å’Œ EVMã€‚  
è¿™ç§èƒ½åŠ›ä½¿ Starknet å…¼å®¹ EVMï¼Œæ¶ˆé™¤äº† Solidity å¼€å‘è€…åœ¨ Starknet ä¸Šæ„å»ºæ—¶å­¦ä¹ å…¨æ–°è¯­è¨€çš„éœ€æ±‚ã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1729669879000)

### Kakarot zkEVM çš„å…³é”®ç‰¹æ€§

*   **æ•æ·å’Œè½»é‡çº§**ï¼šä½¿ç”¨ Cairo æ„å»ºï¼ŒKakarot å°†å¯†ç å­¦ä¸å·¥ç¨‹åˆ†ç¦»ï¼Œä½¿å…¶æ›´æ˜“äºå®¡è®¡ã€æ‰©å±•å’Œæ”¹è¿›ã€‚
*   **äº’æ“ä½œå’Œæ¨¡å—åŒ–**ï¼šKakarot æ”¯æŒå¤šè™šæ‹Ÿæœºç¯å¢ƒï¼Œå…è®¸ Solidity åˆçº¦ä¸ Cairo ç¨‹åºäº¤äº’ï¼Œåä¹‹äº¦ç„¶ã€‚
*   **é«˜æ€§èƒ½**ï¼šKakarot å—ç›Šäºæœªæ¥ Cairo å †æ ˆçš„å‡çº§ï¼Œä¾‹å¦‚å³å°†å‘å¸ƒçš„ [Stwo](https://github.com/starkware-libs/stwo)ï¼Œè¿™å°†ä½¿ ZK è¯æ˜ç”Ÿæˆæ€§èƒ½æé«˜ 100â€“1,000 å€ã€‚

æœ‰äº† Kakarotï¼Œå¼€å‘è€…å¯ä»¥åœ¨ Starknet ä¸Šè·å¾—æ–°çš„å¯èƒ½æ€§ï¼Œè€Œä¸å¤±å»ç°æœ‰çš„æŠ€èƒ½ï¼Œä½¿å…¶æˆä¸ºå»ä¸­å¿ƒåŒ–åº”ç”¨æœªæ¥çš„å…³é”®è§’è‰²ã€‚

## è®©æˆ‘ä»¬ä½¿ç”¨ Starknet Scaffold ç¼–å†™ä¸€ä¸ª Solidity æ™ºèƒ½åˆçº¦

ä¸Šé¢çš„æ ‡é¢˜æ„Ÿè§‰åƒæ˜¯ä¸€ä¸ªæ¢¦ ğŸ˜„ â€” ææˆ‘ä¸€ä¸‹ï¼

### ä»€ä¹ˆæ˜¯ Starknet Scaffoldï¼Ÿ

[Starknet Scaffold](https://www.starknetscaffold.xyz/) ç”± [Horus Labs](https://github.com/horuslabsio) æ„å»ºï¼Œæ˜¯ä¸€ä¸ªä¸ºåœ¨ Starknet ä¸Šå¼€å‘å»ä¸­å¿ƒåŒ–åº”ç”¨ç¨‹åºï¼ˆdAppsï¼‰è€Œè®¾è®¡çš„å·¥å…·åŒ…ã€‚å®ƒåŒ…æ‹¬æœ€æµè¡Œå’ŒåŠŸèƒ½å¼ºå¤§çš„å·¥å…·ï¼Œç¡®ä¿ä½ å§‹ç»ˆæ‹¥æœ‰æœ€æ–°çš„å¼€å‘ç¯å¢ƒã€‚

Starknet Scaffold ç°åœ¨æ”¯æŒ Kakarotï¼Œä½¿å¾—åˆ›å»ºåŒæ—¶é€‚ç”¨äº Solidity å’Œ Cairo çš„ DApps æ›´åŠ ç®€å•ã€‚ä½ å¯ä»¥ä½¿ç”¨ Kakarot zkEVM ä¸ŠåŒ…å«çš„å…¥é—¨æ¨¡æ¿å¼€å§‹æ„å»ºä½ çš„ DAppã€‚

### è®©æˆ‘ä»¬å¼€å§‹å§

æˆ‘ä»¬å°†é€šè¿‡ Kakarot ä»¥ä¸ä½ ä¸ä»¥å¤ªåŠä¸»ç½‘æˆ–ä»»ä½•å…¶ä»–åŸºäºä»¥å¤ªåŠçš„é“¾ï¼ˆä½¿ç”¨ Metamaskã€Rainbowã€ä½¿ç”¨ Foundry æˆ– Hardhat æ„å»ºç­‰ï¼‰ç›¸åŒçš„æ–¹å¼ä¸ Starknet MultiVM è¿›è¡Œäº¤äº’ã€‚

**è¦æ±‚  
**åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ å·²å®‰è£…ä»¥ä¸‹å†…å®¹ï¼š

*   [Git](https://git-scm.com/downloads)
*   [Node](https://nodejs.org/en/download/package-manager)
*   [Docker](https://docs.docker.com/get-started/get-docker/)
*   [Yarn](https://classic.yarnpkg.com/lang/en/docs/install/#mac-stable)

### è®¾ç½®

æ‰“å¼€ä½ çš„ç»ˆç«¯å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

npx create-starknet-app

*   **è¾“å…¥ä½ çš„åŒ…åç§°ï¼š** ä¾‹å¦‚ï¼Œ`kakarot-DApp`
*   **é€‰æ‹©åŒ…ç±»å‹ï¼š** é€‰æ‹© `5` ä»£è¡¨ kakarotã€‚
*   **è¿è¡Œè„šæ‰‹æ¶ï¼š**
*   `cd kakarot-DApp`

![](https://img.learnblockchain.cn/attachments/migrate/1729669879006)

npm run start-kakarot

è¦ä½¿å…¶å·¥ä½œï¼Œä½ éœ€è¦è¿è¡Œ Dockerï¼Œå¦åˆ™ä¼šå‡ºç°é”™è¯¯ã€‚

ç»§ç»­è¿è¡Œå‘½ä»¤ï¼Œä½ å°†åœ¨ç»ˆç«¯ä¸­çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼Œè¿™æ„å‘³ç€ kakarot å½“å‰æ­£åœ¨ä½ çš„æœºå™¨ä¸Šè¿è¡Œã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1729669878997)

### ç¼–å†™å’Œéƒ¨ç½²æ™ºèƒ½åˆçº¦

åœ¨ä½ çš„ vscode ä¸­æ‰“å¼€æˆ‘ä»¬æ­å»ºçš„æ–‡ä»¶å¤¹ï¼Œä½ å°†çœ‹åˆ°å¦‚ä¸‹çš„æ–‡ä»¶å¤¹ç»“æ„ã€‚æˆ‘ä»¬æœ‰ä¸¤ä¸ªåŒ…å«æ™ºèƒ½åˆçº¦çš„æ–‡ä»¶å¤¹ï¼š

*   `contracts` : è¯¥æ–‡ä»¶å¤¹åŒ…å« Cairo æ™ºèƒ½åˆçº¦ã€‚
*   `kakarot` : åŒ…å« Solidity æ™ºèƒ½åˆçº¦ã€‚

kakarot zkEVM é€šè¿‡ä½¿ Starknet æˆä¸ºä¸€ä¸ªå¤šè™šæ‹Ÿæœºç¯å¢ƒæ¥å¢å¼ºå’Œæ‰©å±• Starknetï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å°† Solidity å’Œ Cairo åˆçº¦éƒ¨ç½²åˆ° Starknetã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1729669879004)

åœ¨ `package.json` ä¸­ï¼Œä½ ä¼šæ‰¾åˆ°æ‰€æœ‰å¯ç”¨çš„è„šæœ¬ï¼Œä½ å¯ä»¥è¿è¡Œè¿™äº›è„šæœ¬ä»¥ä½¿å¼€å‘è¿‡ç¨‹æ›´è½»æ¾

![](https://img.learnblockchain.cn/attachments/migrate/1729669880238)

### æ­¥éª¤ 1ï¼šæ„å»ºå’Œç¼–è¯‘æ™ºèƒ½åˆçº¦

æ­¤å‘½ä»¤æ„å»ºå¹¶ç¼–è¯‘ Cairo æ™ºèƒ½åˆçº¦ã€‚

npm run build-contracts

![](https://img.learnblockchain.cn/attachments/migrate/1729669880272)

### æ­¥éª¤ 2ï¼šéƒ¨ç½² Kakarot L1 æ¶ˆæ¯åˆçº¦

npm run deploy-kakarot-l1-messaging-contracts-local

![](https://img.learnblockchain.cn/attachments/migrate/1729669880291)

æ­¤å‘½ä»¤åœ¨æœ¬åœ°éƒ¨ç½² `L1KakarotMessaging.sol` å’Œ `StarknetMessaging.sol` åˆçº¦ã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1729669880347)

**åˆçº¦è§£é‡Š**

1.  `L1KakarotMessaging.sol` : è¯¥åˆçº¦é€šè¿‡å‘ Starknet (L2) ä¸Šçš„åˆçº¦å‘é€å’Œæ¥æ”¶æ¶ˆæ¯æ¥å®ç° Layer 1 (L1) å’Œ Layer 2 (L2) ä¹‹é—´çš„é€šä¿¡ã€‚
2.  `StarknetMessaging.sol` : è¯¥åˆçº¦ç®¡ç† Layer 1 å’Œ Layer 2 ä¹‹é—´æ¶ˆæ¯ä¼ é€’çš„æœºåˆ¶ï¼Œå¹¶è´Ÿè´£ç»´æŠ¤æ¶ˆæ¯çš„å®Œæ•´æ€§ã€å¤„ç†å’Œç¡®ä¿è¿™ä¸¤ä¸ªå±‚ä¹‹é—´çš„å¯é é€šä¿¡ã€‚

### æ­¥éª¤ 3ï¼šéƒ¨ç½² EVM æ™ºèƒ½åˆçº¦

è®©æˆ‘ä»¬åœ¨ `example` æ–‡ä»¶å¤¹ä¸­éƒ¨ç½² `counter.sol` åˆçº¦ã€‚ç¡®ä¿ä½ çš„ Docker æ­£åœ¨è¿è¡Œã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1729669880923)

### æœ¬åœ°éƒ¨ç½² EVM åˆçº¦

åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æ‰¾åˆ°åœ¨æœ¬åœ°éƒ¨ç½²æ—¶å¯ä»¥ä½¿ç”¨çš„ rpc å’Œç§é’¥ã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1729669881094)

è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥åœ¨æœ¬åœ°éƒ¨ç½²ï¼š

npm run deploy-kakarot-evm-contract --contract-path=solidity\_contracts/src/examples/Counter.sol:Counter --rpc-url=http://127.0.0.1:3030 --private-key=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

![](https://img.learnblockchain.cn/attachments/migrate/1729669881107)

### åœ¨ Kakarot Sepolia æµ‹è¯•ç½‘ä¸Šéƒ¨ç½² EVM åˆçº¦

åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œè¯·ç¡®ä¿å°† [Kakarot Sepolia](https://docs.kakarot.org/starknet/overview/) æ·»åŠ åˆ°ä½ çš„ Metamaskï¼š

![](https://img.learnblockchain.cn/attachments/migrate/1729669881286)

[https://docs.kakarot.org/starknet/overview/](https://docs.kakarot.org/starknet/overview/)

æˆ‘å°†ä½¿ç”¨ `env.example` æ–‡ä»¶ä¸­çš„ _ç§é’¥_ï¼Œå¦‚æœä½ æƒ³ä½¿ç”¨ä½ çš„åœ°å€è¿›è¡Œéƒ¨ç½²ï¼Œå¯ä»¥ä½¿ç”¨è¿æ¥åˆ°ä½ ä»»ä½• Metamask åœ°å€çš„ç§é’¥ã€‚

è¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨ Kakarot Sepolia æµ‹è¯•ç½‘ä¸Šéƒ¨ç½²ï¼š

npm run deploy-kakarot-evm-contract --contract-path=solidity\_contracts/src/examples/Counter.sol:Counter --rpc-url=https://sepolia-rpc.kakarot.org --private-key=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

![](https://img.learnblockchain.cn/attachments/migrate/1729669881307)

è®©æˆ‘ä»¬ä½¿ç”¨åˆçº¦åœ°å€éªŒè¯åˆçº¦æ˜¯å¦å·²éƒ¨ç½²  
`0x3Aa5ebB10DC797CAC828524e59A333d0A371443c`

![](https://img.learnblockchain.cn/attachments/migrate/1729669881620)

### åœ¨ Kakarot Sepolia æµ‹è¯•ç½‘ä¸Šä¸ EVM åˆçº¦å‡½æ•°äº¤äº’

è®©æˆ‘ä»¬å¢åŠ  `Counter.sol` åˆçº¦çš„è®¡æ•°å™¨ã€‚

```bash
cast send 0x3Aa5ebB10DC797CAC828524e59A333d0A371443c "increment()" --rpc-url=https://sepolia-rpc.kakarot.org --private-key 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
```

![](https://img.learnblockchain.cn/attachments/migrate/1729669881830)

ç°åœ¨æˆ‘ä»¬å·²æˆåŠŸä¸ `increment` å‡½æ•°è¿›è¡Œäº†äº¤äº’ã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1729669881908)

### README.md æ–‡ä»¶

æ‰“å¼€ `kakarot` æ–‡ä»¶å¤¹ä¸­çš„ README.md æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬è¿è¡Œçš„æ‰€æœ‰å‘½ä»¤åŠæ›´å¤šå†…å®¹ã€‚

![](https://img.learnblockchain.cn/attachments/migrate/1729669881988)

## æ€»ç»“

æˆ‘ä»¬å·²æˆåŠŸåœ¨ Kakarot Sepolia æµ‹è¯•ç½‘ä¸Šéƒ¨ç½²å¹¶ä¸æˆ‘ä»¬çš„ Solidity åˆçº¦è¿›è¡Œäº†äº¤äº’ã€‚

åœ¨æœ¬æ–‡çš„ä¸‹ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†æ¼”ç¤ºå¦‚ä½•ä» Solidity åˆçº¦ä¸­ä¸ Cairo åˆçº¦è¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯ä¸æ˜¯å¾ˆä»¤äººå…´å¥‹ï¼Ÿ

Kakarot zkEVM çš„é›†æˆåˆ° Starknet æ ‡å¿—ç€åœ¨ CairoVM å’Œä»¥å¤ªåŠè™šæ‹Ÿæœºï¼ˆEVMï¼‰ä¹‹é—´æ¶èµ·æ¡¥çš„é‡è¦ä¸€æ­¥ã€‚

å€ŸåŠ©ç”± [Horus Labs](https://github.com/horuslabsio) æä¾›æ”¯æŒçš„ [Starknet Scaffold](https://www.starknetscaffold.xyz/) å·¥å…·åŒ…ï¼Œå¼€å‘äººå‘˜å¯ä»¥é«˜æ•ˆä¸”ç®€åŒ–åœ°ç¼–å†™ã€éƒ¨ç½²å’Œäº¤äº’ Solidity å’Œ Cairo æ™ºèƒ½åˆçº¦ã€‚

**æœ‰ç”¨çš„é“¾æ¥ï¼š**

*   [Horus Labs](https://github.com/horuslabsio)
*   [Kakarot Labs](https://github.com/kkrt-labs)
*   [Starknet Scaffold](https://www.starknetscaffold.xyz/)
*   [Kakarot zkEVM](https://docs.kakarot.org/)

> æˆ‘æ˜¯ [AI ç¿»è¯‘å®˜](https://learnblockchain.cn/people/19584)ï¼Œä¸ºå¤§å®¶è½¬è¯‘ä¼˜ç§€è‹±æ–‡æ–‡ç« ï¼Œå¦‚æœ‰ç¿»è¯‘ä¸é€šçš„åœ°æ–¹ï¼Œåœ¨[è¿™é‡Œ](https://github.com/lbc-team/Pioneer/blob/master/translations/9645.md)ä¿®æ”¹ï¼Œè¿˜è¯·åŒ…æ¶µï½